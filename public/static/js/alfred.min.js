!function(){var a=window.MutationObserver||window.WebKitMutationObserver,b="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,c=void 0!==document.documentElement.style["touch-action"]||document.documentElement.style["-ms-touch-action"];if(!c&&b&&a){window.Hammer=window.Hammer||{};var d=/touch-action[:][\s]*(none)[^;'"]*/,e=/touch-action[:][\s]*(manipulation)[^;'"]*/,f=/touch-action/,g=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g),h=function(){try{var a=document.createElement("canvas");return!(!window.WebGLRenderingContext||!a.getContext("webgl")&&!a.getContext("experimental-webgl"))}catch(a){return!1}}(),i=h&&g;window.Hammer.time={getTouchAction:function(a){return this.checkStyleString(a.getAttribute("style"))},checkStyleString:function(a){return f.test(a)?d.test(a)?"none":!e.test(a)||"manipulation":void 0},shouldHammer:function(a){var b=this.hasParent(a.target);return!(!b||i&&!(Date.now()-a.target.lastStart<125))&&b},touchHandler:function(a){var b=a.target.getBoundingClientRect(),c=b.top!==this.pos.top||b.left!==this.pos.left,d=this.shouldHammer(a);("none"===d||c===!1&&"manipulation"===d)&&("touchend"===a.type&&(a.target.focus(),setTimeout(function(){a.target.click()},0)),a.preventDefault()),this.scrolled=!1,delete a.target.lastStart},touchStart:function(a){this.pos=a.target.getBoundingClientRect(),i&&this.hasParent(a.target)&&(a.target.lastStart=Date.now())},styleWatcher:function(a){a.forEach(this.styleUpdater,this)},styleUpdater:function(a){if(a.target.updateNext)return void(a.target.updateNext=!1);var b=this.getTouchAction(a.target);return b?void("none"!==b&&(a.target.hadTouchNone=!1)):void(!b&&(a.oldValue&&this.checkStyleString(a.oldValue)||a.target.hadTouchNone)&&(a.target.hadTouchNone=!0,a.target.updateNext=!1,a.target.setAttribute("style",a.target.getAttribute("style")+" touch-action: none;")))},hasParent:function(a){for(var b,c=a;c&&c.parentNode;c=c.parentNode)if(b=this.getTouchAction(c))return b;return!1},installStartEvents:function(){document.addEventListener("touchstart",this.touchStart.bind(this)),document.addEventListener("mousedown",this.touchStart.bind(this))},installEndEvents:function(){document.addEventListener("touchend",this.touchHandler.bind(this),!0),document.addEventListener("mouseup",this.touchHandler.bind(this),!0)},installObserver:function(){this.observer=new a(this.styleWatcher.bind(this)).observe(document,{subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["style"]})},install:function(){this.installEndEvents(),this.installStartEvents(),this.installObserver()}},window.Hammer.time.install()}}(),function(a){"use strict";function b(a,b,c,d,e,f){switch(a){case"easeOutCubic":return d*(Math.pow(b/e-1,3)+1)+c;case"easeInQuad":return d*(b/=e)*b+c;case"easeInCubic":return d*(b/=e)*b*b+c;case"easeInQuart":return d*(b/=e)*b*b*b+c;case"easeInQuint":return d*(b/=e)*b*b*b*b+c;case"easeInSine":return-d*Math.cos(b/e*(Math.PI/2))+d+c;case"easeInExpo":return 0===b?c:d*Math.pow(2,10*(b/e-1))+c;case"easeInCirc":return-d*(Math.sqrt(1-(b/=e)*b)-1)+c;case"easeInElastic":if(0===b)return c;if(1===(b/=e))return c+d;void 0===f&&(f=500);var g=d,h=e*(1-Math.min(f,999)/1e3),i=g<Math.abs(d)?h/4:h/(2*Math.PI)*Math.asin(d/g);return-(g*Math.pow(2,10*(b-=1))*Math.sin((b*e-i)*(2*Math.PI)/h))+c;case"easeInBack":var i=1.70158;return d*(b/=e)*b*((i+1)*b-i)+c;case"easeOutQuad":var i=1.70158;return d*(b/=e)*b*((i+1)*b-i)+c;case"easeOutQuart":return-d*((b=b/e-1)*b*b*b-1)+c;case"easeOutQuint":return d*((b=b/e-1)*b*b*b*b+1)+c;case"easeOutSine":return d*Math.sin(b/e*(Math.PI/2))+c;case"easeOutExpo":return b===e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c;case"easeOutCirc":return d*Math.sqrt(1-(b=b/e-1)*b)+c;case"easeOutElastic":if(0===b)return c;if(1===(b/=e))return c+d;void 0===f&&(f=500);var g=d,h=e*(1-Math.min(f,999)/1e3),i=g<Math.abs(d)?h/4:h/(2*Math.PI)*Math.asin(d/g);return g*Math.pow(2,-10*b)*Math.sin((b*e-i)*(2*Math.PI)/h)+d+c;case"easeOutBack":var i=1.70158;return d*((b=b/e-1)*b*((i+1)*b+i)+1)+c;case"easeOutBounce":return(b/=e)<1/2.75?d*(7.5625*b*b)+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c;case"easeInOutQuad":return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c;case"easeInOutCubic":return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c;case"easeInOutQuart":return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c;case"easeInOutQuint":return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c;case"easeInOutSine":return-d/2*(Math.cos(Math.PI*b/e)-1)+c;case"easeInOutExpo":return 0===b?c:b===e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c;case"easeInOutCirc":return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c;case"easeInOutElastic":if(0===b)return c;if(2==(b/=e/2))return c+d;void 0===f&&(f=500);var g=d,h=e*(1-Math.min(f,999)/1e3)*1.5,i=g<Math.abs(d)?h/4:h/(2*Math.PI)*Math.asin(d/g);return b<1?-.5*(g*Math.pow(2,10*(b-=1))*Math.sin((b*e-i)*(2*Math.PI)/h))+c:g*Math.pow(2,-10*(b-=1))*Math.sin((b*e-i)*(2*Math.PI)/h)*.5+d+c;case"easeInOutBack":var i=1.70158;return(b/=e/2)<1?d/2*(b*b*(((i*=1.525)+1)*b-i))+c:d/2*((b-=2)*b*(((i*=1.525)+1)*b+i)+2)+c;default:throw void 0!==a&&a.length?'Case for "'+a+'" is not exist.':"The first parameter of the getEasing() method is undefined."}}function c(a){switch(a){case"ease":return[.25,.1,.25,1];case"easeOut":return[0,0,.58,1];case"easeIn":return[.42,0,1,1];case"easeInOut":return[.42,0,.58,1];default:return a}}function d(a){this.o=Object.assign({autoStart:!0,from:0,to:1,fps:60,duration:1e3,easing:[.4,0,.2,1],delay:0,frequency:500},a),this.frameId=null,this.running=!1,this.reversed=!1,this.iterationCount=null,this.totalIterations=null,this.eventNames=["begin","progress","complete"],this.begin=function(){},this.progress=function(){},this.complete=function(){},this._update=this._update.bind(this),this.o.autoStart&&this.play()}if(void 0===window.SmoothMove){var e=function(){function a(a,b){return 1-3*b+3*a}function b(a,b){return 3*b-6*a}function c(a){return 3*a}function d(d,e,f){return((a(e,f)*d+b(e,f))*d+c(e))*d}function e(d,e,f){return 3*a(e,f)*d*d+2*b(e,f)*d+c(e)}function f(a,b,c,e,f){var g,h,i=0;do h=b+(c-b)/2,g=d(h,e,f)-a,g>0?c=h:b=h;while(Math.abs(g)>k&&++i<l);return h}function g(a,b,c,f){for(var g,h,j=0;j<i;++j){if(g=e(b,c,f),0===g)return b;h=d(b,c,f)-a,b-=h/g}return b}function h(a,b,c,h){function i(b){for(var d=0,h=1,i=m-1;h!==i&&k[h]<=b;++h)d+=n;--h;var l=(b-k[h])/(k[h+1]-k[h]),o=d+l*n,p=e(o,a,c);return p>=j?g(b,o,a,c):0===p?o:f(b,d,d+n,a,c)}if(!(0<=a&&a<=1&&0<=c&&c<=1))throw new Error("bezier x values must be in [0, 1] range");var k=o?new Float32Array(m):new Array(m);if(a!==b||c!==h)for(var l=0;l<m;++l)k[l]=d(l*n,a,c);return function(e){return a===b&&c===h||0===e||1===e?e:d(i(e),b,h)}}var i=4,j=.001,k=1e-7,l=10,m=11,n=1/(m-1),o="function"==typeof Float32Array;return h}();d.prototype.on=function(a,b){this.eventNames.includes(a)&&(this[a]=b)},d.prototype.off=function(a){this.eventNames.includes(a)&&(this[a]=function(){})},d.prototype.play=function(){this.o.delay?this.timeoutId=setTimeout(this._start.bind(this),this.o.delay):this._start()},d.prototype._start=function(){var a=c(this.o.easing);if(this.o.duration=Math.round(this.o.duration),this.iterationCount=0,this.totalIterations=Math.max(Math.round(this.o.duration/1e3*this.o.fps),1),this.from=this.o.from,this.to=this.o.to,this.frequency=this.o.frequency,this.running=!0,this.begin(),Array.isArray(a)){var d=e(a[0],a[1],a[2],a[3]);this._process=function(){return d(this.iterationCount/this.totalIterations)}.bind(this)}else"stepEnd"===a?(this.cancel(),this.complete(),this.default()):this._process=function(){return b(a,this.iterationCount,this.from,this.to,this.totalIterations,this.frequency)}.bind(this);requestAnimationFrame(this._update)},d.prototype._update=function(){if(this.running){if(this.iterationCount===this.totalIterations)return this.complete(),void this.default();this.iterationCount++;var a=this._process();this.progress(a,a*(this.to-this.from)+this.from),this.frameId=requestAnimationFrame(this._update)}},d.prototype.cancel=function(){this.running=!1,this.o.delay&&clearTimeout(this.timeoutId),this.progress(1,this.to),cancelAnimationFrame(this.frameId)},d.prototype.pause=function(){this.running&&(this.running=!1,cancelAnimationFrame(this.frameId))},d.prototype.reset=function(a){this.pause(),this.default(),this.o=Object.assign(this.o,a),this.o.autoStart&&this.play()},d.prototype._switch=function(){var a=this.o.from;this.o.from=this.o.to,this.o.to=a},d.prototype.reverse=function(){this.reversed||(this.pause(),this.reversed=!0,this._switch(),this.o.autoStart&&this.play())},d.prototype.default=function(){this.reversed&&(this.reversed=!1,this._switch())},a.Engine=d,"function"==typeof define&&define.amd?define(function(){return d}):"undefined"!=typeof module&&module.exports?module.exports=d:window.SmoothMove=d}}({}),function(a){"use strict";function b(a){this.defaults=a||{},this.protected={},this.clear()}function c(a){this[a]={get:function(a){return this.data[a]},remove:function(a){void 0!==this.data[a]&&delete this.data[a]},data:{}},this._on=function(b,c){this[a].data[b]=c},this._off=function(b){this[a].remove(b)},this._fire=function(b,c){var d=this[a].get(b);if(d)return d.apply(this,c)}}function d(a,b){this._eventsDataId=a,this[a]={},this.eventsNames=b,l(b,function(b){this[a][b]={id:0,size:0}},this)}function e(){this.id=0,this.listeners={}}function f(a){var b=new XMLHttpRequest;b.open("GET",a.url||a,!0),b.onload=function(){200==b.status?a.done&&a.done(b):a.fail&&a.fail(b),a.always&&a.always()},b.onerror=function(){a.fail&&a.fail(b),a.always&&a.always()},b.send()}function g(a,b){var c=Math.round((a-1)/2);this.size=a,this.range=c,this.position=c,this.slides=[],this.cells=[],this.reset(),this.transformPrefix=A(),this.slideClass=b}function h(a,b){if(void 0===a)throw"Item is undefined";for(var c=0,d=b,e=[],f=0;f<this.length;f++)d=b+c*(f%2===0?-1:1),this[d]===a&&e.push(d),f%2===0&&c++;return e}function i(a,b){function c(a,b,e){a<=b?requestAnimationFrame(function(){c(++a,b,e)}):(d=!1,e())}var d=!1;this.schedule=function(e){d||(d=!0,c(0,a,b))}}function j(a){var b=document.createElement("div");return b.innerHTML=a,b.children}function k(a,b,c){var d;for(d in a)a.hasOwnProperty(d)&&b.call(c,d,a[d],a)}function l(a,b,c,d){if(a)for(var e=d||0,f=a.length;e<f;e++)b.call(c,a[e],e,a)}function m(a,b,c){return void 0===c?document.querySelectorAll(a+"["+b+"]"):document.querySelectorAll(a+"["+b+'="'+c+'"]')}function n(a){return a.substring(1,a.length)}function o(a,b){return a[0]===b[0]&&a[1]===b[1]}function p(a,b){return Array.prototype.push.apply(a,b),a}function q(a){var b=[];return l(a,function(a){p(b,a.classList)}),b}function r(a){return Array.prototype.slice.call(a,0)}function s(a){return a.replace(/(^|$)\s+/g,"").replace(/\s+/g," ").replace(/\s$/,"")}function t(a,b){return Math.floor(Math.random()*(b-a))+a}function u(a,b,c){a.hasOwnProperty(b)?a[b].push(c):a[b]=[c]}function v(a){for(var b=[],c=0;c<a;c++)b[b.length]=c;return b}function w(a,b,c){var d,e=this;l(a,function(a){d=e[a][b],d&&d.call(e[a],c)})}function x(a,b){for(var c in b)b.hasOwnProperty(c)&&(na.object(a[c])&&na.object(b[c])?x(a[c],b[c]):a[c]=b[c]);return a}function y(a,b){return a+b}function z(a){for(var b=0,c=0;c<a;c++)b+=this[c];return b}function A(){return void 0!==document.body.style.transform?"transform":"webkitTransform"}function B(a,b,c){for(;a;){if(a.hasAttribute(b))return c.indexOf(a.getAttribute(b));a=a.parentElement}return-1}function C(a){for(var b=0,c=a.length;b<c;b++)if(this.classList.contains(a[b]))return!0;return!1}function D(a){var b=a.range,c=a.done,d=a.set,e=a.prioritize;if("all"===b&&(b=Math.round((Math.max(1,d.length)-1)/2)),0===b)return c.includes(e)?[]:[e];for(var f=d.indexOf(e),g=d.length,h=[],i=[],j=[],k=0,l=Math.max(0,f-b),m=l;m<f;m++)k=d[m],c.includes(k)||i.push(k);for(var n=Math.min(g-1,f+b),m=n;m>f;m--)k=d[m],c.includes(k)||j.push(k);if(a.cycle){var o=(f-b)*-1,q=(g-1-f-b)*-1,r=0;if(o>0){r=Math.max(n,g-o);for(var m=r;m<g;m++)k=d[m],c.includes(k)||j.includes(k)||i.unshift(k)}if(q>0){r=Math.min(l,q-1);for(var m=r;m>=0;m--)k=d[m],c.includes(k)||i.includes(k)||j.unshift(k)}}switch(a.direction){case 0:case 1:p(h,i),p(h,j);break;case-1:p(h,j),p(h,i)}return c.includes(e)||h.includes(e)||h.push(e),h}function E(a,b,c){var d=this.indexOf(a),e=[],f=this.length,g=this[0];if(d===-1)throw"Index of active item ("+a+") is -1. Array: ["+this.join(", ")+"]";var h=Math.max(0,d-c),i=c-d;if(i>0)for(var j=f-i;j<f;j++)e.push(b?this[j]||g:void 0);for(var j=h;j<d;j++)e.push(this[j]);e.push(a);for(var k=Math.min(d+c+1,f),l=d+c+1-f,j=d+1;j<k;j++)e.push(this[j]);if(l>0)for(var j=0;j<l;j++)e.push(b?this[j]||g:void 0);return e}function F(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,b)}catch(a){}return a}function G(a){var b="";return a.split("").forEach(function(a,c){b+=a.toUpperCase()===a?"-"+a.toLowerCase():a}),b}function H(a){var b=Array.isArray(a)?a:ka[a];return void 0!==b?"cubic-bezier("+b+")":G(a)}function I(a,b){if(!a||!b)return 0;var c=Math.pow(b[0]-a[0],2)+Math.pow(b[1]-a[1],2);return Math.round(Math.sqrt(c))}function J(a){if(!a)return null;var b=a[0],c=a[1],d=[];if(void 0!==c&&1===b.identifier&&0===c.identifier){var e=c;c=b,b=e}return d.push([Math.round(b.pageX),Math.round(b.pageY)]),void 0!==c&&d.push([Math.round(c.pageX),Math.round(c.pageY)]),d}function K(a,b,c){return"translate3d("+a+"px, "+b+"px, 0) scale("+c+")"}function L(a){d.call(this,"events",["tap","closeFinish","next","prev","closeCancel","closeStart","zoomDefault"]),this.id={},this.o=Object.assign({overlay:null,wrap:null,image:null,draggable:!0,animations:!0,hasPrev:function(){return!0},hasNext:function(){return!0},idleUI:!1},a),l(["wrap","image","overlay"],function(a){this[a]=this.o[a].style},this),this.screenWidth=window.innerWidth,this.screenHeight=window.innerHeight,this.transformPrefix=A(),this.reset(),l(["onTouchStart","onTouchMove","onTouchEnd","onMouseDown","onMouseUp","onTouchMoveRecognizer","onMouseMove"],function(a){this[a]=this[a].bind(this)},this),this.handler=new e}function M(a){return void 0===a.pageX?a.touches[0].pageX:a.pageX}function N(a){d.call(this,"events",["tap"]),this.id={},this.o=Object.assign({target:null,targetWidth:null,viewportWidth:null,cellsWidth:null,draggable:!0,dragFriction:1},a),k(this.o,function(a,b){this[a]=b},this),this.onStart=this.onStart.bind(this),this.onMove=this.onMove.bind(this),this.onEnd=this.onEnd.bind(this),this.updateDragging=this.updateDragging.bind(this),this.startX=0,this.startTime=0,this.currentX=0,this.screenX=0,this.prevScreenX=null,this.translateX=0,this.direction=0,this.dragging=!1,this.motion=!1,this.transformPrefix=A(),this.handler=new e}function O(){d.call(this,"events",["path","success","fail","always","abort","finish","pause","continue","notifyMe","idleStart","idleEnd"]),this.active=null,this.image=null,this.done=[],this.aborted=[],this.queue=[]}function P(){return{general:{data:"data-alfred",index:0,svgSprite:"svg-sprite.svg",updateOnResize:!0},tabs:{wrap:ja+"tabs-wrap",tabs:ja+"tabs",slider:ja+"tabs-slider",tab:ja+"tab",active:"active",data:"data-filter",arrowsNav:!0,leftArrow:ja+"arrow-left",rightArrow:ja+"arrow-right",draggable:!0,fillWidth:!1,stickToActive:!0,counter:!0,counterId:ja+"counter",minimalist:!1,slide:{run:!0,id:ja+"slide",duration:400,easing:ha}},layout:{id:ja+"layout",spinner:!0,spinnerId:ja+"layout-spinner",lazyload:!0,syncLoad:!1,alignContent:"center",fillContainerWidth:!1,fillImages:!0,precalculate:!1,sortBySize:!1,improveSorting:!0,qualitySorting:1,indexOrderCorrection:!0,sensitivity:15,random:{run:!1,sizes:[1,2],itemsCount:100,loadMore:135}},item:{id:ja+"item",wrap:ja+"item-wrap",imgClass:ja+"img-sm",data:"data-src-sm",pathPrefix:"",dataSize:"data-size",width:225,height:225,margin:10,errorImg:"basic_elaboration_cloud_remove",errorClass:ja+"error",hoverEffect:"effect-jean",initEffect:{name:"fadeIn",delay:0},effectMove:{duration:ia,easing:ha}},autoHeight:{duration:0,easing:"ease",delay:ia,toFixed:0},fallbackMessage:{id:ja+"message",filter:ja+"filter",delay:ia},loadMore:{id:ja+"btn-loadMore",path:"ajax/load-more.html",spinner:!0,spinnerId:ja+"loadMore-spinner",dose:3,status:".status",more:"Show more",fail:"Error, tap to retry",empty:"All for now",classFail:"btn-error",classEmpty:"btn-empty"},gallery:{templatePath:"ajax/gallery-template.html",data:"data-src-lg",pathPrefix:"",btnOpen:ja+"gallery-open",btnClose:ja+"gallery-close",btnNext:ja+"gallery-next",btnPrev:ja+"gallery-prev",preload:2,draggable:!0,scrollbar:!0,idleUI:!0,infiniteCarousel:!0,accessibility:!0,keyClose:27,keyPrev:37,keyNext:39,animations:!0,effectIn:"lightScaleIn",effectOut:"lightScaleOut",spinner:ja+"gallery-spinner",errorClass:ja+"gallery-error",template:ja+"gallery-template",overlay:ja+"gallery-overlay",wrap:ja+"gallery-wrap",showNav:!0,prev:ja+"g-icon-prev",next:ja+"g-icon-next",close:ja+"g-icon-close",showCounter:!0,counter:ja+"gallery-counter",counterCurrent:ja+"current",counterTotal:ja+"total",slider:ja+"gallery-slider",slide:ja+"gallery-slide",media:ja+"gallery-media",showCaption:!0,caption:ja+"gallery-caption",title:ja+"gallery-title",description:ja+"gallery-description"},modal:{templatePath:"ajax/modal-template.html",data:"data-modal",pathPrefix:"",btnOpen:ja+"modal-open",btnClose:ja+"modal-close",btnNext:ja+"modal-next",btnPrev:ja+"modal-prev",animations:!0,infiniteCarousel:!0,accessibility:!0,keyClose:27,keyPrev:37,keyNext:39,showNav:!0,nav:ja+"modal-navigation",next:ja+"m-icon-next",prev:ja+"m-icon-prev",close:ja+"m-icon-close",template:ja+"modal-template",body:ja+"modal-body",spinner:ja+"modal-spinner",errorMessage:ja+"error-message",errorClass:ja+"modal-error",showCounter:!0,counter:ja+"modal-counter",counterCurrent:ja+"current",counterTotal:ja+"total"}}}function Q(a){c.call(this,"eventsData"),d.call(this,"events",["change","init","first","last","counter"]),this.handler=new e,this.o=a,this.e={},this.id={tabs:[],arrows:[]},this.cache=new b({prevActiveIndex:0}),this.o.tabs.slide.run&&(this.transformPrefix=A()),this.data={name:"",index:null,names:[]}}function R(a){c.call(this,"eventsData"),d.call(this,"events",["height","empty","success","fail","done","change","init"]),this.handler=new e,this.o=a,this.e={},this.filterName=null,this.filterNames=[],this.cache=new b({updateHeight:!1,maxHeight:0,startFrom:0,deductedDelay:0}),this.itemWidth=null,this.itemHeight=null,this.prevActive=[],this.activeItems=[],this.inactiveItems=[],this.errors=[],this.p0={},this.p1={},this.sizes=[],this.map=new X,this.prevMap=new X,this.id={enter:[],leave:[]},this.animations={},this.transformPrefix=A(),this.passiveListeners=F()}function S(a,b,c){return Math.max(0,b*(a+1)-(c||0))}function T(a,b){var c=a[0],d=a[1];return c>b?(d>1&&(d=Math.max(1,d-(c-b))),[b,d]):a}function U(a,b){a=Array.isArray(a)?a:[1,1];var c=Math.min(Math.max(1,a[0]),b),d=Math.min(Math.max(1,a[1]),b)+1;return[t(c,d),t(c,d)]}function V(a,b,c){for(var d=t(b||1,c||4),e=[],f="",g=0;g<d;g++)f=a[t(0,a.length)],e.includes(f)||e.push(f);return e.join(" ")}function W(a,b,c,d,e){var f=document.createElement("figure"),g=document.createElement("div");return f.className+=" "+a+" "+c,g.classList.add(b),g.textContent=e(d),f.appendChild(g),f}function X(a){this.map=a||[]}function Y(a){c.call(this,"eventsData"),d.call(this,"events",["success","fail","empty"]),this.handler=new e,this.o=a,this.e={},this.elements=[],this.dosage=[],this.indexes=[],this.groups=[],this.toShow=[],this.done=0,this.failed=!1}function Z(a,b){c.call(this,"eventsData"),this.handler=new e,this.type=b,this.o=a,this.e={},this.id={},this.items=[],this.success={},this.errors={},this.status={isClosed:!0,isVisible:!1},this.animations={}}function $(a,b){return this.addListeners(a,"click",function(a){a.stopPropagation(),b()},!0)}function _(a){Z.call(this,a,"gallery"),d.call(this,"events",["init","open","close","next","prev","first","last","success","fail","always"]),this.status.retryLoading=!1,this.captions={};var b=this.o.gallery;this.preloader=new O,this.preloader.on("always",this._always.bind(this)),this.preloader.on("path",this._getImagePath.bind(this)),this.preloader.on("idleStart",this._fire.bind(this,"idleStart")),this.preloader.on("idleEnd",this._fire.bind(this,"idleEnd")),this.slider=new g(5,b.slide),this.idleInit=!0,this.isIdle=!1}function aa(a){Z.call(this,a,"modal"),d.call(this,"events",["init","open","close","next","prev","first","last","success","fail","errorStatus"]),this.active=null,this.status=Object.assign(this.status,{content:!0,nav:!0,slideUpDown:!0})}function ba(a){var b=[];return l(Object.keys(a),function(c){na.object(a[c])&&b.push(c)}),b}function ca(a){var b=["item","autoHeight","fallbackMessage","general"],c=[];return l(a,function(a){b.includes(a)||c.push(a)}),c}function da(a){var b={layout:["autoHeight","fallbackMessage","loadMore","item"]};return k(b,function(b,c){void 0===a[b]&&l(c,function(b){a[b]&&delete a[b]})}),a}function ea(a){if(a.state){var b;return this.addListener(window,"resize",function(){clearTimeout(b),b=setTimeout(function(){requestAnimationFrame(a.handler)},a.interval)})}if(na.number(a.id))return this.removeListener(a.id),null}function fa(a){this.meta=ga,this._build(a)}if(void 0===window.Alfred){var ga={name:"Alfred",description:"Powerful Javascript portfolio plugin for representation your masterpieces.",version:"1.0.0",license:"MIT",author:"Jiri Cermak"};Object.freeze(ga);var ha=(A(),[.4,0,.2,1]),ia=375,ja=".dc-",ka={easeInQuad:[.55,.085,.68,.53],easeInCubic:[.55,.055,.675,.19],easeInQuart:[.895,.03,.685,.22],easeInQuint:[.755,.05,.855,.06],easeInSine:[.47,0,.745,.715],easeInExpo:[.95,.05,.795,.03],easeInCirc:[.6,.04,.98,.335],easeInBack:[.6,-.28,.735,.045],easeOutQuad:[.25,.46,.45,.94],easeOutCubic:[.215,.61,.355,1],easeOutQuart:[.165,.84,.44,1],easeOutQuint:[.23,1,.32,1],easeOutSine:[.39,.575,.565,1],easeOutExpo:[.19,1,.22,1],easeOutCirc:[.075,.82,.165,1],easeOutBack:[.175,.885,.32,1.275],easeInOutQuad:[.455,.03,.515,.955],easeInOutCubic:[.645,.045,.355,1],easeInOutQuart:[.77,0,.175,1],easeInOutQuint:[.86,0,.07,1],easeInOutSine:[.445,.05,.55,.95],easeInOutExpo:[1,0,0,1],easeInOutCirc:[.785,.135,.15,.86],easeInOutBack:[.68,-.55,.265,1.55]};Array.prototype.remove||(Array.prototype.remove=function(a){var b=this.indexOf(a);return b!==-1&&(this.splice(b,1),!0)}),Array.prototype.includes||(Array.prototype.includes=function(a){var b=Object(this),c=parseInt(b.length)||0;if(0===c)return!1;var d,e=parseInt(arguments[1])||0;e>=0?d=e:(d=c+e,d<0&&(d=0));for(var f;d<c;){if(f=b[d],a===f||a!==a&&f!==f)return!0;d++}return!1}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){for(var b=(this.document||this.ownerDocument).querySelectorAll(a),c=b.length;--c>=0&&b.item(c)!==this;);return c>-1}),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?!function(){var a=document.createElement("_");if(a.classList.add("c1","c2"),!a.classList.contains("c2")){var b=function(a){var b=DOMTokenList.prototype[a];DOMTokenList.prototype[a]=function(a){var c,d=arguments.length;for(c=0;c<d;c++)a=arguments[c],b.call(this,a)}};b("add"),b("remove")}if(a.classList.toggle("c3",!1),a.classList.contains("c3")){var c=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,b){return 1 in arguments&&!this.contains(a)==!b?b:c.call(this,a)}}a=null}():!function(a){if("Element"in a){var b="classList",c="prototype",d=a.Element[c],e=Object,f=String[c].trim||function(){return this.replace(/^\s+|\s+$/g,"")},g=Array[c].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},h=function(a,b){this.name=a,this.code=DOMException[a],this.message=b},i=function(a,b){if(""===b)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");return g.call(a,b)},j=function(a){for(var b=f.call(a.getAttribute("class")||""),c=b?b.split(/\s+/):[],d=0,e=c.length;d<e;d++)this.push(c[d]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},k=j[c]=[],l=function(){return new j(this)};if(h[c]=Error[c],k.item=function(a){return this[a]||null},k.contains=function(a){return a+="",i(this,a)!==-1},k.add=function(){var a,b=arguments,c=0,d=b.length,e=!1;do a=b[c]+"",i(this,a)===-1&&(this.push(a),e=!0);while(++c<d);e&&this._updateClassName()},k.remove=function(){var a,b,c=arguments,d=0,e=c.length,f=!1;do for(a=c[d]+"",b=i(this,a);b!==-1;)this.splice(b,1),f=!0,b=i(this,a);while(++d<e);f&&this._updateClassName()},k.toggle=function(a,b){a+="";var c=this.contains(a),d=c?b!==!0&&"remove":b!==!1&&"add";return d&&this[d](a),b===!0||b===!1?b:!c},k.toString=function(){return this.join(" ")},e.defineProperty){var m={get:l,enumerable:!0,configurable:!0};try{e.defineProperty(d,b,m)}catch(a){a.number===-2146823252&&(m.enumerable=!1,e.defineProperty(d,b,m))}}else e[c].__defineGetter__&&d.__defineGetter__(b,l)}}(self)),function(){var a={remove:function(){this.parentNode.removeChild(this)},addClass:function(a){this.classList.add(a)},removeClass:function(a){this.classList.remove(a)},hasClass:function(a){return this.classList.contains(a)}};for(name in a)void 0===a[name]||Element.prototype[name]||(Element.prototype[name]=a[name])}(),b.prototype.set=function(a,b){return this.values[a]=b},b.prototype.get=function(a){return this.values[a]},b.prototype.has=function(a){return void 0!==this.values[a]},b.prototype.remove=function(a){return!!this.has(a)&&(delete this.values[a],!0)},b.prototype.clear=function(){this.values={},this.extend(this.defaults,this.set),this.extend(this.protected,this.setProtected)},b.prototype.setProtected=function(a,b){return this.protected[a]=b},b.prototype.hasProtected=function(a){return void 0!==this.protected[a]},b.prototype.getProtected=function(a){return this.protected[a]},b.prototype.removeProtected=function(a){return!!this.hasProtected(a)&&(delete this.protected[a],!0)},b.prototype.clearProtected=function(){this.protected={}},b.prototype.extend=function(a,b){k(a,b||this.set,this)},d.prototype.on=function(a,b){var c=this[this._eventsDataId][a];if(!c)throw ga.name+': Wrong name of event listener ("'+a+'"). Choose from: '+this.eventsNames.join(", ")+".";c.size++;var d=c.free;if(d&&d.length){var e=d.pop();return c[e]=b,e}return c[c.id]=b,c.id++},d.prototype.one=function(a,b){var c=this.on(a,function(){this.off(a,c),b.apply(this,arguments)}.bind(this));return c},d.prototype.once=function(a,b){return this.one(a,b)},d.prototype.onEach=function(a,b){return a.split(" ").map(function(a){return this.on(a,b)}.bind(this))},d.prototype.fire=function(a,b){var c,d,e=this[this._eventsDataId][a];if(e.size){c=void 0===b?"call":"apply";for(var f=0,g=e.id;f<g;f++)d=e[f],void 0!==d&&d[c](this,b)}},d.prototype.returnFire=function(a,b,c){var d=this[this._eventsDataId][a];if(d.size){var e=d[c];return void 0!==e?e[void 0===b?"call":"apply"](this,b):void 0}},d.prototype.off=function(a,b){if(void 0===a&&l(this.eventsNames,function(a){this[this._eventsDataId][a]={id:0,size:0}},this),void 0===b)return this[this._eventsDataId][a]={id:0,size:0},!0;var c=this[this._eventsDataId][a];return void 0!==c[b]&&(delete c[b],c.free||(c.free=[]),c.free.push(b),c.size--,c.size||this.off(a),!0)},e.prototype.addListener=function(a,b,c,d){return a.addEventListener(b,c,d),this.listeners[this.id]={element:a,event:b,fn:c,capture:d},this.id++},e.prototype.removeListener=function(a){if(void 0!==a&&"number"!=typeof a)throw"Parameter isn't valid (\""+a+'"). It must be number.';var b=this.listeners[a];return void 0!==b&&(b.element.removeEventListener(b.event,b.fn,b.capture),delete this.listeners[a],!0)},e.prototype.addListeners=function(a,b,c,d){for(var a=Array.prototype.slice.call(a,0),e=a.length,f=[],g=0;g<e;g++)f.push(this.addListener(a[g],b,c,d));return f},e.prototype.removeListeners=function(a){if(!Array.isArray(a))throw"Parameter isn't valid (\""+a+'"). It must be an array';for(var b=0,c=a.length;b<c;b++)this.removeListener(a[b])},e.prototype.destroy=function(){this.removeListeners(Object.keys(this.listeners).map(parseFloat)),this.listeners={},this.id=0};var la={state:!1,id:{},callbacks:[],firstRun:!1,testing:!1,onTestResolve:function(a){var b=this.state="touchstart"===a.type;this.handler.removeListener(this.id.touchstart),this.handler.removeListener(this.id.mousemove),this.id={},this.callbacks.forEach(function(a){a(b)}),this.callbacks=[],this.testing=!1},test:function(a){a&&this.callbacks.push(a),this.testing||(this.testing=!0,this.state=!1,this.id.touchstart=this.handler.addListener(window,"touchstart",this.onTestResolve,!1),this.id.mousemove=this.handler.addListener(window,"mousemove",this.onTestResolve,!1))},quickTest:function(a){this.state?a(!0):this.test(a)},init:function(a){return this.firstRun?void(a&&this.callbacks.push(a)):(this.firstRun=!0,this.onTestResolve=this.onTestResolve.bind(this),this.handler=e?new e:handler,void("loading"===document.readyState?this.id.load=this.handler.addListener(window,"load",function(){this.test(a),this.handler.removeListener(this.id.load),delete this.id.load}.bind(this),!1):this.test(a)))}};la.init();var ma=function(){function a(a){return Array.prototype.slice.call(a,0)}function b(a,b){var c=[];return a.forEach(function(a){a.hasAttribute("data-svg")&&!a.classList.contains("svg-done")&&c.push({element:a,src:a.getAttribute("data-svg")}),a.removeAttribute("data-svg"),a.classList.remove(b)}),c}function c(a){var b=this.classList;if(!b.contains("svg-done")){var c=k[a];c?this.appendChild(j(c)[0]):console.error('SVG icon "'+a+'" not found. Check SVG sprite file.'),b.add("svg-done")}}function d(d,e){var f=a(document.querySelectorAll(d||".svg-lazy"));if(f.length){var g=d?d.substring(1,d.length):"svg-lazy",h=b(f,g);l(h,function(a){c.call(a.element,a.src)})}e&&e(),m=!0}function e(a){return a.outerHTML||function(a){var b,c=document.createElement("div");return c.appendChild(a.cloneNode(!0)),b=c.innerHTML,c=null,b}(a)}function g(b){var c,f=j(b.responseText);l(a(f),function(a){c=a.id,void 0===c&&console.error("Missing ID attribute with SVG icon name"),void 0===k[c]&&(k[c]=e(a))}),n.length?(l(n,function(a){d(a.selector,a.callback)}),n=[]):m=!0}function h(a){n.length&&(l(n,function(a){a.callback&&a.callback()}),n=[]),m=!0}var i=[],k={},m=!1,n=[];return function(a,b,c){i.includes(b)?m?d(a,c):c&&c():(m=!1,i.push(b),n.push({selector:a,callback:c}),f({url:b,done:g,fail:h}))}}();a&&(a.lazySVG=ma),a.logoSVG=function(a){var b=document.querySelector(a);if(!b)return void console.error('Element not found. ("'+a+'")');var c=b.classList;c.remove(a.substring(1,a.length)),f({url:b.getAttribute("data-svg"),done:function(a){c.contains("svg-done")||(b.appendChild(j(a.response)[0]),c.add("svg-done"),b.removeAttribute("data-svg"))}})},g.prototype.build=function(a,b,c){var d=document.createDocumentFragment(),e=a.firstElementChild,f=-this.range+1;0!==b&&0!==c?a.style.height="calc(100% - "+(b+c)+"px)":a.style.height="100%";for(var g=1;g<this.size;g++)e=e.cloneNode(!0),e.style[this.transformPrefix]="translateX("+100*f+"vw) translateZ(0)",f++,d.appendChild(e);a.firstElementChild.style[this.transformPrefix]="translateX("+100*-this.range+"vw) translateZ(0)",a.appendChild(d),this.slides=r(a.querySelectorAll(this.slideClass))},g.prototype.reset=function(a){if(this.items=[],this.rangeItems=[],this.prevRangeItems=[],this.initial(),void 0===a&&(a=function(){}),this.slides.length){var b=-this.range;l(this.slides,function(c){c.style[this.transformPrefix]="translateX("+100*b+"vw) translateZ(0)",a(c),b++},this)}},g.prototype.setItems=function(a,b){this.items=a,this.cycle=b},g.prototype.getSlide=function(a){return this.slides[this.cells[a]];
},g.prototype.getActiveSlide=function(){return this.getSlide(this.range)},g.prototype.getSlidesOf=function(a){return h.call(this.rangeItems,a,this.range).map(function(a){return this.getSlide(a)}.bind(this))},g.prototype.createCells=function(){this.cells=[];for(var a=0;a<this.size;a++)this.cells.push(a)},g.prototype.initial=function(){this.createCells(),this.direction=0,this.position=0},g.prototype._slidePositionFor=function(a,b){this.position+=b,this.direction=b;var c=100*(this.position+b*this.range),d="translateX("+c+"vw) translateZ(0)",e=this.getSlide(a).style,f=this.transformPrefix;requestAnimationFrame(function(){e[f]=d})},g.prototype.next=function(a){this._slidePositionFor(0,1),this.cells.push(this.cells.shift())},g.prototype.prev=function(a){this._slidePositionFor(this.size-1,-1),this.cells.unshift(this.cells.pop())},g.prototype.hasPrev=function(){return void 0!==this.rangeItems[this.range-1]},g.prototype.hasNext=function(){return void 0!==this.rangeItems[this.range+1]},g.prototype.getPrev=function(){var a=this.items.indexOf(this.active);return 0===a?this.cycle?this.items[this.items.length-1]:this.active:this.items[a-1]},g.prototype.getNext=function(){var a=this.items.indexOf(this.active);return a===this.items.length-1?this.cycle?this.items[0]:this.active:this.items[a+1]},g.prototype.update=function(a){this.prevRangeItems=this.rangeItems.slice(0),this.active=a,this.rangeItems=E.call(this.items,a,this.cycle,this.range)},g.prototype._getChangedItems=function(){if(!this.prevRangeItems.length){var a=this.rangeItems.slice(0);return a.splice(this.range,1),a}var b=[],c=this.direction,d=this.prevRangeItems;return this.rangeItems.forEach(function(a,e){d[e+c]!==a&&b.push(a)}),b},g.prototype.changedSlides=function(a,b){if(this.items.length>1){var c=[];this._getChangedItems().forEach(function(d){c.includes(d)||(c.push(d),a.call(b,d))})}},g.prototype.emptySlides=function(a,b){var c=this.rangeItems.indexOf(void 0);if(c!==-1)for(var d=c;d<this.size;d++)void 0===this.rangeItems[d]&&a.call(b,this.getSlide(d))};var na={object:function(a){return"object"==typeof a&&"[object Object]"===a.toString()},array:function(a){return Array.isArray(a)},number:function(a){return"number"==typeof a},string:function(a){return"string"==typeof a},undefined:function(a){return void 0===a},null:function(a){return null===a},empty:function(a){if(void 0===a||null===a||0===a.length)return!0;if(a.length)return!1;var b;for(b in a)if(a.hasOwnProperty(b))return!1;return!0},element:function(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName}},oa={keys:[32,33,34,35,36,37,38,39,40],preventdefault:function(a){a.preventDefault(),a.returnValue=!1},disable:function(){window.addEventListener("DOMMouseScroll",this.preventdefault,!1),window.onwheel=this.preventdefault,window.onmousewheel=document.onmousewheel=this.preventdefault,document.onkeydown=function(a){if(this.keys.includes(a.keyCode))return this.preventdefault(a),!1}.bind(this)},enable:function(){window.removeEventListener("DOMMouseScroll",this.preventdefault,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,document.onkeydown=null}};String.prototype.capitalize||(String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)}),L.prototype=Object.create(d.prototype),L.prototype.constructor=L,L.prototype.resize=function(){var a=this.static.x/this.screenWidth,b=this.static.y/this.screenHeight;this.screenWidth=window.innerWidth,this.screenHeight=window.innerHeight,this.static.x=a*this.screenWidth,this.static.y=b*this.screenHeight,this.wrap[this.transformPrefix]=K(this.static.x,this.static.y,this.static.scale)},L.prototype.updateImageElement=function(a){this.image[this.transformPrefix]="",this.o.image=a,this.image=a.style,"scaling"!==this.active&&"draggingY"!==this.active||(this.activeElement=this.image)},L.prototype.reset=function(){this.rAFIndex=null,this.active=null,this.activeElement=null,this.animations={},this.start={time:null,x:null,y:null,touches:[],touchDistance:0},this.endPrev={},this.end=Object.assign({},this.start),this.current={scale:1,touches:[],opacity:1},this.direction={dragX:0,dragY:0,scale:0},this.static={x:0,y:0,scale:1},this.motion=!1,this.ticking=!1,this._resetBooleans(),this.staticImg=[0,0],this.wrap[this.transformPrefix]=K(0,0,1),this.image[this.transformPrefix]="",this.overlay.opacity=""},L.prototype.onTouchMoveRecognizer=function(a){a.preventDefault(),this.recognizerCounter<2?(this.recognizerCounter++,this.requestTick()):(this.recognizerCounter=0,this.current.touches=J(a.touches),this._dragRecognizer(),this.handler.removeListener(this.id.touchmove),this.id.touchmove=this.handler.addListener(this.o.wrap,"touchmove",this.onTouchMove))},L.prototype._resetBooleans=function(){this.draggingX=!1,this.draggingY=!1,this.pinching=!1,this.scaling=!1},L.prototype._dragRecognizer=function(){var a,b=this.start.touches,c=this.current.touches;switch(c.length){case 2:this.start.touchDistance>I(c[0],c[1])&&(this.pinching=!0),this.activeElement=this.image,a="scaling",this.fire("closeStart");break;case 1:var d=b[0],e=c[0];a=Math.abs(e[0]-d[0])>Math.abs(e[1]-d[1])?"draggingX":"draggingY","draggingY"===a?(this.draggingX=!0,this.activeElement=this.image,this.fire("closeStart")):this.activeElement=this.wrap}this[a]=!0,this.active=a;var f=c.slice(0);this.start.time=performance.now(),this.start.touches=f,2===c.length&&(this.start.touchDistance=I(f[0],f[1]))},L.prototype.updateDirections=function(a,b){var c=this.current.touches[0],d=this.current.scale,e=this.direction;this.draggingX&&c[0]!==a[0]&&(e.dragX=c[0]<a[0]?1:-1),this.draggingY&&c[1]!==a[1]&&(e.dragY=c[1]<a[1]?-1:1),this.scaling&&d!==b&&(e.scale=d<b?1:-1)},L.prototype.onTouchStart=function(a){if(this.motion&&void 0!==this.id.translateX)return void(void 0!==this.id.touchmove&&this._removeListeners(["touchmove","touchcancel","touchend"]));this.pointerDown=!0;var b=J(a.touches);this.start.time=performance.now(),this.start.touches=b,this.start.touchDistance=I(b[0],b[1]),this.direction.dragX=0,this.direction.dragY=0,this.direction.scale=0,this._resetBooleans(),this.recognizerCounter=0,cancelAnimationFrame(this.rAFIndex),this.ticking=!1,this.requestTick()},L.prototype.onTouchMove=function(a){if(!this.ticking&&this.pointerDown){a.preventDefault(),this.motion=!0;var b=this.start.touches[0],c=J(a.touches),d=c[0],e=this.static.scale,f=d[0]-b[0],g=d[1]-b[1],h=0,i=0;this.scaling?(e*=I(d,c[1])/this.start.touchDistance,!this.zoomed&&this.pinching&&(this.overlay.opacity=+e.toFixed(3))):("draggingY"!==this.active&&(h=this.static.x,i=this.static.y),this.draggingX&&(h+=f),this.draggingY&&(i+=g)),"draggingY"===this.active&&g>=0&&(e=+Math.max(.75,1-Math.abs(g/this.screenHeight)).toFixed(3),this.current.opacity=this.overlay.opacity=+Math.max(0,1-2*Math.abs(g/this.screenHeight).toFixed(3))),this.updateDirections(d,e),this.current.scale=e,this.current.touches[0]=d,this.activeElement[this.transformPrefix]=K(h,i,e),this.requestTick()}},L.prototype.onTouchEnd=function(a){if(this.pointerDown=!1,cancelAnimationFrame(this.rAFIndex),this.ticking=!1,this.motion=!1,this.endPrev.time=this.end.time||0,this.end.time=performance.now(),this.end.touches=J(a.changedTouches),"touchcancel"!==a.type&&this._isTap())return this.active="tap",void this.fire("tap",[a.target]);var b=this.start.touches[0],c=this.o.dragging?this.current.touches[0]:this.end.touches[0],d=c[0]-b[0],e=c[1]-b[1];switch(this.active){case"draggingX":var f=d<1?-1:1,g=Math.abs(d),h=(g/((this.end.time-this.start.time)/1e3),g/this.screenWidth,400*(1-g/this.screenWidth)),i=1===f?this.o.hasPrev():this.o.hasNext();i&&this.direction.dragX===f?(this._translateX(d+this.static.x,this.screenWidth*f+this.static.x,h,!0),this.static.x+=this.screenWidth*f):this._translateX(d+this.static.x,this.static.x,400,!1);break;case"draggingY":var j=Math.abs(e)/this.screenHeight;this.direction.dragY===-1&&j>.1&&e>0?(this._translateY([d,d],[e,e+this.screenHeight]),this.static.y+=e):(this._translateY([d,0],[e,0]),this.fire("closeCancel"));break;case"scaling":var c=this.current.scale,k=c,l=4;this.zoomed?this.pinching?c<=1&&(this._scale({scale:[c,1],opacity:!1}),k=1,this.fire("zoomDefault"),this.zoomed=!1):c>l&&(this._scale({scale:[c,l],opacity:!1}),k=l):this.pinching?this.direction.scale===-1&&c<1?(this._scale({scale:[c,0],eventName:"closeFinish",opacity:!0}),k=0):(this._scale({scale:[c,1],opacity:!0}),k=1,this.fire("closeCancel")):(this._scale({scale:[c,1],opacity:!1}),k=1,this.fire("closeCancel")),this.static.scale=k}},L.prototype.onMouseDown=function(a){return this.motion&&void 0!==this.id.translateX||1!==a.which?void(void 0!==this.id.mouseup&&this._removeListeners(["mouseleave","mouseup"])):(this.pointerDown=!0,this.start.time=performance.now(),this.start.x=this.current.x=a.pageX,this.start.y=this.current.y=a.pageY,this.direction.dragX=0,this.direction.dragY=0,cancelAnimationFrame(this.rAFIndex),this.ticking=!1,void this.requestTick())},L.prototype.onMouseMove=function(a){if(1===a.which&&!this.ticking&&this.pointerDown){this.motion=!0;var b=a.pageX,c=a.pageY,d=this.current.x,e=this.current.y;void 0!==d&&b!==d&&(this.direction.dragX=d<b?1:-1),void 0!==e&&c!==e&&(this.direction.dragY=e<c?-1:1),this.current.x=b,this.current.y=c;var f=K(this.static.x+b-this.start.x,0,1);this.wrap[this.transformPrefix]=f,this.requestTick()}},L.prototype.onMouseUp=function(a){if(1===a.which){if(this.pointerDown=!1,cancelAnimationFrame(this.rAFIndex),this.ticking=!1,this.motion=!1,"mouseleave"===a.type){var b=this.current.x-this.start.x;return void this._translateX(b+this.static.x,this.static.x,500,!1)}this.endPrev.time=this.end.time||0,this.end.time=performance.now(),this.end.x=a.pageX,this.end.y=a.pageY;var c=this.start,d=this.end,e=d.time-c.time,f=c.time-this.endPrev.time,g=I([c.x,c.y],[d.x,d.y]);if(f>250&&e<=250&&g<2)return void this.fire("tap",[a.target]);var b=this.current.x-c.x;if(0!==b){var h=b<1?-1:1,i=Math.abs(b),j=(i/((d.time-c.time)/1e3),i/this.screenWidth,400*(1-i/this.screenWidth)),k=1===h?this.o.hasPrev():this.o.hasNext();k&&this.direction.dragX===h?(this._translateX(b+this.static.x,this.screenWidth*h+this.static.x,j,!0),this.static.x+=this.screenWidth*h):this._translateX(b+this.static.x,this.static.x,400,!1)}}},L.prototype._scale=function(a){if(!this.motion){this.motion=!0;var b=this.transformPrefix,c=this.image,d=this.overlay,e=this.current.scale;this.id.scale=this.handler.addListener(this.o.image,"transitionend",function(){this.handler.removeListener(this.id.scale),this.id.scale=void 0,[c,d].forEach(function(a){a.transitionProperty="",a.transitionDuration="",a.transitionTimingFunction=""}),this.static.scale=this.current.scale=a.scale[1],this.motion=!1,a.eventName&&this.fire(a.eventName)}.bind(this)),this.rAFIndex=requestAnimationFrame(function(){c[b]=K(0,0,a.scale[0]),c.opacity=1,c.transitionProperty="transform, opacity",d.opacity=a.opacity?e:1,d.transitionProperty="opacity",[c,d].forEach(function(a){a.transitionProperty="",a.transitionDuration="300ms",a.transitionTimingFunction="cubic-bezier(0.4, 0.0, 0.2, 1)"}),requestAnimationFrame(function(){c[b]=K(0,0,a.scale[1]),d.opacity=c.opacity=a.opacity&&"closeFinish"===a.eventName?0:1})})}},L.prototype._translateY=function(a,b){if(!this.motion){this.motion=!0;var c=this.transformPrefix,d=this.image,e=this.overlay,f=this.direction.dragY===-1&&0!==b[1],g=this.current.opacity,h=f?0:1,i=f?.75:1,j=K(a[0],b[0],this.current.scale),k=K(a[1],b[1],i);this.id.translateY=this.handler.addListener(this.o.image,"transitionend",function(){this.handler.removeListener(this.id.translateY),this.id.translateY=void 0,[d,e].forEach(function(a){a.transitionProperty="",a.transitionDuration="",a.transitionTimingFunction=""}),this.current.opacity=h,this.current.scale=i,this.motion=!1,f&&this.fire("closeFinish")}.bind(this)),this.rAFIndex=requestAnimationFrame(function(){d[c]=j,d.transitionProperty="transform",e.opacity=g,e.transitionProperty="opacity",[d,e].forEach(function(a){a.transitionDuration="300ms",a.transitionTimingFunction="cubic-bezier(0.4, 0.0, 0.2, 1)"}),requestAnimationFrame(function(){d[c]=k,e.opacity=h})})}},L.prototype._translateX=function(a,b,c,d){if(!this.motion){this.motion=!0;var e=this.wrap,f=this.transformPrefix,a=K(a,this.static.y,this.static.scale),b=K(b,this.static.y,this.static.scale);this.id.translateX=this.handler.addListener(this.o.wrap,"transitionend",function(){this.handler.removeListener(this.id.translateX),this.id.translateX=void 0,e.transitionProperty="",e.transitionDuration="",e.transitionTimingFunction="",this.motion=!1,d&&this.fire(1===this.direction.dragX?"prev":"next")}.bind(this)),cancelAnimationFrame(this.rAFIndex),this.rAFIndex=requestAnimationFrame(function(){e[f]=a,e.transitionDuration=c+"ms",e.transitionTimingFunction="ease",e.transitionProperty="transform",requestAnimationFrame(function(){e[f]=b})})}},L.prototype._isTap=function(){var a=this.start.touches,b=this.end.time-this.start.time,c=this.start.time-this.endPrev.time;return 1===a.length&&c>250&&b<=250&&I(a[0],this.end.touches[0])<2},L.prototype.requestTick=function(){this.ticking||(this.rAFIndex=requestAnimationFrame(function(){this.pointerDown||cancelAnimationFrame(this.rAFIndex),this.ticking=!1}.bind(this)),this.ticking=!0)},L.prototype.clearTimeouts=function(){clearTimeout(this.timeoutA),clearTimeout(this.timeoutB),this.timeoutA=null,this.timeoutB=null},L.prototype.addEventListeners=function(){var a=this.o.draggable,b=this.o.wrap;la.quickTest(function(c){if(c){var d=function(a){this.onTouchEnd(a),this._removeListeners(["touchcancel","touchmove","touchend"])}.bind(this);this.id.touchstart=this.handler.addListener(b,"touchstart",function(c){c.preventDefault(),this.onTouchStart(c),a&&this.pointerDown&&(this.id.touchmove=this.handler.addListener(b,"touchmove",this.onTouchMoveRecognizer),this.id.touchcancel=this.handler.addListener(b,"touchcancel",d)),this.pointerDown&&(this.id.touchend=this.handler.addListener(b,"touchend",d,!0))}.bind(this))}else{var e=this.o.idleUI,f=function(a){this.onMouseUp(a),this._removeListeners(["mouseleave","mouseup"])}.bind(this);e&&(this.mouseMoveUITimer||(this.mouseMoveUITimer=new i(5,this.onMouseMoveUI.bind(this))),this.timeoutA=null,this.timeoutB=setTimeout(this.o.hideUI,4e3)),this.id.mousedown=this.handler.addListener(b,"mousedown",function(c){c.preventDefault(),this.onMouseDown(c),a&&this.pointerDown&&(this.id.mouseleave=this.handler.addListener(b,"mouseleave",f),this.id.mousemove=this.handler.addListener(b,"mousemove",this.onMouseMove)),this.pointerDown&&(this.id.mouseup=this.handler.addListener(b,"mouseup",f,!0))}.bind(this)),e&&(this.id.mousemove=this.handler.addListener(b,"mousemove",function(b){a&&this.pointerDown&&this.onMouseMove(b),this.mouseMoveUITimer.schedule()}.bind(this)))}}.bind(this))},L.prototype.onMouseMoveUI=function(){this.o.showUI(),null!==this.timeoutB&&(clearTimeout(this.timeoutB),this.timeoutB=null),null!==this.timeoutA&&clearTimeout(this.timeoutA),this.timeoutA=setTimeout(this.o.hideUI,4e3)},L.prototype._removeListeners=function(a){var b,c=this.id,d=this.handler;a.forEach(function(a){b=c[a],void 0!==b&&null!==b&&(d.removeListener(b),delete c[a])})},L.prototype.removeEventListeners=function(){this.handler.id>0&&(this.handler.destroy(),this.id={})},L.prototype.eventListeners=function(a){this.removeEventListeners(),a&&this.addEventListeners()},L.prototype.bounceBack=function(a){if(!this.motion){this.motion=!0;var b=this.animations.bounceBackA,c=this.animations.bounceBackB,d=this.transformPrefix,e=this.wrap,f=this.static.x,g=f+a;b&&c?(b.reset({from:f,to:g}),c.reset()):(b=this.animations.bounceBackA=new SmoothMove({autoStart:!1,from:f,to:g,duration:100,easing:[.4,0,.2,1]}),c=this.animations.bounceBackB=new SmoothMove({autoStart:!1,duration:600,frequency:600,easing:"easeOutElastic"}),b.on("progress",function(a,b){e[d]="translate3d("+b+"px, 0, 0)"}),b.on("complete",function(){c.play()}),c.on("complete",function(){this.motion=!1}.bind(this))),c.on("progress",function(b){e[d]="translate3d("+(b*-a+g)+"px, 0, 0)"}),b.play()}},L.prototype.moveX=function(a){if(!this.motion){this.motion=!0;var b=this.wrap,c=this.transformPrefix,d="translate3d("+(this.static.x+a)+"px, 0px, 0px)";if(this.o.animations){var e="translate3d("+this.static.x+"px, 0px, 0px)";this.id.moveX=this.handler.addListener(this.o.wrap,"transitionend",this._moveXCompleteA.bind(this,a)),this.rAFIndex=requestAnimationFrame(function(){b[c]=e,b.transitionDuration="450ms",b.transitionTimingFunction="cubic-bezier(0.4, 0.0, 0.2, 1)",b.transitionProperty="transform",requestAnimationFrame(function(){b[c]=d})})}else{var f=this;this.rAFIndex=requestAnimationFrame(function(){b[c]=d,f._moveXCompleteB(a)})}}},L.prototype._moveXCompleteA=function(a){if(this.o.animations){var b=this.wrap;this.handler.removeListener(this.id.moveX),this.id.moveX=void 0,b.transitionProperty="",b.transitionDuration="",b.transitionTimingFunction=""}this._moveXCompleteB(a)},L.prototype._moveXCompleteB=function(a){this.static.x+=a,this.clearTimeouts(),this.motion=!1,this.fire(a>0?"prev":"next")},L.prototype.goNext=function(){this.moveX(-this.screenWidth)},L.prototype.goPrev=function(){this.moveX(this.screenWidth)},N.prototype=Object.create(d.prototype),N.prototype.constructor=N,N.prototype._dragDirection=function(a){if(this.prevScreenX>this.screenX)this.dragDirection=1;else{if(!(this.prevScreenX<this.screenX))return;this.dragDirection=-1}this.dragDirection!==this.dragPrevDirection&&(this.startTime=performance.now()),this.dragPrevDirection=this.dragDirection,this.prevScreenX=this.screenX},N.prototype._updateOffset=function(a){this.leftOffset=0===a?0:-a,this.rightOffset=this.targetWidth-this.viewportWidth+a},N.prototype.onStart=function(a){2!==a.which&&3!==a.which&&(this.motion&&this.slowDownAnimation&&(this.slowDownAnimation.pause(),this.translateX=this.lastTranslateX),this.currentX=this.startX=M(a),this.startTime=performance.now(),this.dragging=!0,1===a.which&&a.preventDefault(),requestAnimationFrame(this.updateDragging))},N.prototype.onMove=function(a){a.preventDefault(),this.currentX=M(a)},N.prototype.onEnd=function(a){if(this.dragging){if(this.direction=this.startX>this.currentX?1:-1,this.dragging=!1,Math.abs(this.screenX)<5)return a.type.match(/mouseleave|touchcancel/)||2===a.which||3===a.which||this.fire("tap",[a.target]),void this.settle();this.translateX+=this.screenX,this._updateOffset(this.translateX);var b=this.screenX/(performance.now()-this.startTime),c=500*b;this.rightOffset<0?c=this.viewportWidth-this.targetWidth-this.translateX:this.leftOffset<0&&(c=-this.translateX);var d=this.translateX+c;if(d>0?d=0:this.targetWidth-this.viewportWidth<-d&&(d=this.viewportWidth-this.targetWidth),c){this.motion=!0;var e=this.slowDownAnimation,f=this.target.style;e?e.reset({from:this.translateX,to:d}):(e=this.slowDownAnimation=new SmoothMove({autoStart:!1,from:this.translateX,to:d,easing:[0,0,.2,1],duration:1e3}),e.on("progress",function(a,b){this.lastTranslateX=b,f[this.transformPrefix]="translateX("+this.lastTranslateX+"px)"}.bind(this))),e.on("complete",function(){this.translateX=d,this.settle()}.bind(this)),e.play()}else this.settle()}},N.prototype.settle=function(){this.target.style[this.transformPrefix]="translateX("+this.translateX+"px)",this._updateOffset(this.translateX),this.motion=!1},N.prototype.clearDOM=function(){var a=this.target.style;a[this.transformPrefix]=""},N.prototype.updateDragging=function(){this.dragging&&(this.screenX=(this.currentX-this.startX)*this.dragFriction,this.target.style[this.transformPrefix]="translateX("+(this.translateX+this.screenX)+"px)",null===this.prevScreenX?this.prevScreenX=this.screenX:this._dragDirection(),requestAnimationFrame(this.updateDragging))},N.prototype.bounceBack=function(a){if(!this.motion){this.motion=!0;var b=this.bounceBackAnimationA,c=this.bounceBackAnimationB,d=this.transformPrefix,e=this.target.style,f=this.settle.bind(this);b&&c?(b.reset({from:this.translateX,to:this.translateX+a}),c.reset()):(b=this.bounceBackAnimationA=new SmoothMove({autoStart:!1,from:this.translateX,to:this.translateX+a,duration:100,easing:[.4,0,.2,1]}),c=this.bounceBackAnimationB=new SmoothMove({autoStart:!1,duration:600,frequency:600,easing:"easeOutElastic"}),b.on("progress",function(a,b){e[d]="translateX("+b+"px)"}),b.on("complete",function(){c.play()}),c.on("complete",function(){requestAnimationFrame(f)}));var g=this.translateX+a;c.on("progress",function(b){e[d]="translateX("+(b*-a+g)+"px)"}),b.play()}},N.prototype.select=function(a,b){var c=this.viewportWidth/2-this.translateX,d=this.cellsWidth[a]/2+z.call(this.cellsWidth,a),e=this.translateX+c-d;if(e*-1<0||this.targetWidth-this.viewportWidth+e<0)if(e<0)e=this.viewportWidth-this.targetWidth;else{if(!(e>0))return;e-=e}var f=this.transformPrefix,g=this.target,h=g.style,i="translate("+this.translateX+"px)",j="translateX("+e+"px)",k=function(){this.handler.removeListener(this.id.select),this.id.select=void 0,this.translateX=e,this._updateOffset(this.translateX),requestAnimationFrame(function(){h.transitionProperty="",h.transitionDuration="",h.transitionTimingFunction=""}),this.motion=!1}.bind(this);this.id.select&&this.handler.removeListener(this.id.select),b||(this.id.select=this.handler.addListener(g,"transitionend",k)),requestAnimationFrame(function(){h[f]=i,h.transitionDuration="400ms",h.transitionTimingFunction="cubic-bezier(0.4, 0.0, 0.2, 1)",h.transitionProperty="transform",requestAnimationFrame(function(){h[f]=j,b&&k()})})},N.prototype.addEventListeners=function(){this.draggable&&la.quickTest(function(a){if(a){var b=function(a){this._removeListeners(["touchcancel","touchmove","touchend"]),this.onEnd(a)}.bind(this);this.id.touchstart=this.handler.addListener(this.target,"touchstart",function(a){a.stopPropagation(),this.onStart(a),this.dragging&&(this.id.touchmove=this.handler.addListener(this.target,"touchmove",this.onMove),this.id.touchcancel=this.handler.addListener(this.target,"touchcancel",b),this.id.touchend=this.handler.addListener(this.target,"touchend",b,!1))}.bind(this),!1)}else{var c=function(a){this._removeListeners(["mouseleave","mousemove","mouseup"]),this.onEnd(a)}.bind(this);this.id.mousedown=this.handler.addListener(this.target,"mousedown",function(a){a.stopPropagation(),this.onStart(a),this.dragging&&(this.id.mousemove=this.handler.addListener(this.target,"mousemove",this.onMove),this.id.mouseleave=this.handler.addListener(this.target,"mouseleave",c),this.id.mouseup=this.handler.addListener(this.target,"mouseup",c,!1))}.bind(this),!1)}}.bind(this))},N.prototype._removeListeners=function(a){var b,c=this.id,d=this.handler;void 0!==d&&a.forEach(function(a){b=c[a],void 0===b&&null===b||(d.removeListener(b),delete c[a])})},N.prototype.removeEventListeners=function(){void 0!==this.handler&&(this.handler.destroy(),this.id={})},N.prototype.eventListeners=function(a){this.removeEventListeners(),a&&this.addEventListeners()},N.prototype.resetAnimations=function(){var a,b=["slowDownAnimation","bounceBackAnimationA","bounceBackAnimationB","selectAnimation"];l(b,function(b){a=this[b],a&&(a.cancel(),this[b]=null)},this)},O.prototype=Object.create(d.prototype),O.prototype.constructor=O,O.prototype.enqueue=function(a){p(this.queue,a),this.next()},O.prototype.clearQueue=function(){this.queue=[]},O.prototype.pause=function(){this.queue.length&&null!==this.active&&(this.abort(),this.fire("pause",[this.queue]))},O.prototype.continue=function(){this.queue.length&&null===this.active&&this.aborted.length&&(this.load(this.aborted.pop()),this.fire("continue",[this.queue]))},O.prototype.abort=function(){if(this.image){var a=this.image;a.src="",a.onload=null,a.onerror=null,this.image=null,this.aborted.includes(this.active)||this.aborted.unshift(this.active),this.active=null,this.fire("abort"),this.idle||(this.idle=!0,this.fire("idleStart"))}},O.prototype.load=function(a){this.idle&&(this.idle=!1,this.fire("idleEnd"));var b=this.returnFire("path",[a],0),c=this.image=new Image;c.src=b,c.onload=this._after.bind(this,"success",a,c),c.onerror=this._after.bind(this,"fail",a,b),this.active=a},O.prototype._after=function(a,b,c){this.done.push(b),this.aborted.remove(b),this.active=null,this.image.onload=null,this.image.onerror=null,this.image=null,this.fire("always",[b,c,"success"===a]),this.fire(a,[b,c]),this.next()},O.prototype.next=function(){if(this.queue.length){var a=this.queue.pop();if(a===-2)return this.fire("notifyMe",[this.queue[this.queue.length-1]]),this.next();this.load(a)}else this.aborted.length?this.load(this.aborted.pop()):(this.idle||(this.idle=!0,this.fire("idleStart")),this.fire("finish",[this.done]))},Q.prototype=Object.create(d.prototype),Q.prototype.constructor=Q,fa.Tabs=Q,a.Tabs=Q,Q.prototype.getData=function(){var a,b,c=this.o.tabs,d=c.data,e=c.active,f=[];return l(this.e.tabs,function(c,g){!b&&c.hasClass(e)&&(b=c.getAttribute(d),a=g),f.push(c.getAttribute(d))}),{names:f,name:b,index:a}},Q.prototype.refreshData=function(a){this.data.index=a,this.data.name=this.data.names[a]},Q.prototype.activeClass=function(a,b){var c=this.e.tabs[b].classList,d=this.o.tabs.active,e=c.contains(d);a&&!e&&c.add(d),!a&&e&&c.remove(d)},Q.prototype.initCarousel=function(){var a=this.e.wrap.clientWidth,b=this.carousel;b&&(b.removeEventListeners(),b.off("tap")),this.carousel=new N({target:this.e.slider,viewportWidth:a});var c=this;requestAnimationFrame(function(){c.getTabsWidths(function(b){var c=this.data.index,d=b.reduce(y);if(d>a){var e=this.carousel;e.cellsWidth=b,e.targetWidth=d,this.o.tabs.stickToActive&&e.select(c,!0),this.slide(c),this.arrowsNav(this.o.tabs.arrowsNav),this.containerClass("dc-tabs-draggable")}else this.o.tabs.fillWidth?this.initTabs():this.initSimpleTabs();this.eventListeners(!0)}.bind(c),!0)})},Q.prototype.removeCarousel=function(){var a=this.carousel;a&&(a.clearDOM(),a.removeEventListeners(),a.off("tap"),delete this.carousel)},Q.prototype.counter=function(a){var b=this.o.tabs;if(!b.counter)return void this._fire("counterDone");var c=this.data.names,d=n(b.counterId),b=this.e.tabs,e=this;if(this.events.counter.size>0)for(var f,g=0,h=b.length;g<h;g++)f=c[g],a[f]=this.returnFire("counter",[a[f]],0);requestAnimationFrame(function(){e.removeCounter(),requestAnimationFrame(function(){var f;l(b,function(b,e){f=document.createElement("span"),f.classList.add(d),f.innerHTML=a[c[e]],b.appendChild(f)}),e._fire("counterDone")})})},Q.prototype.removeCounter=function(){var a=this.o.tabs.counterId;l(this.e.tabs,function(b){b=b.querySelector(a),b&&b.remove()})},Q.prototype.eventListeners=function(a){this.removeEventListeners(),a&&this.addEventListeners()},Q.prototype.addEventListeners=function(){if(this.o.tabs.draggable&&this.carousel){var a=this.data.names,b=this.o.tabs.data;this.carousel.eventListeners(!0),this.carousel.off("tap"),this.carousel.on("tap",function(c){var d=B(c,b,a);d!==-1&&this.run(d)}.bind(this))}else{var c=this.id.tabs;c&&c.length&&this.handler.removeListeners(c),this.id.tabs=this.e.tabs.map(function(a,b){return this.handler.addListener(a,"click",this.run.bind(this,b))}.bind(this))}if(this.o.tabs.arrowsNav){var c=this.id.arrows;c&&c.length&&this.handler.removeListeners(c),this.id.arrows[0]=this.handler.addListener(this.e.leftArrow,"click",function(){var a=this.data.index;a>0?this.run(a-1):this.carousel&&this.carousel.bounceBack(25)}.bind(this)),this.id.arrows[1]=this.handler.addListener(this.e.rightArrow,"click",function(){var a=this.data.index;a<this.e.tabs.length-1?this.run(a+1):this.carousel&&this.carousel.bounceBack(-25)}.bind(this))}},Q.prototype.removeEventListeners=function(){this.o.tabs.draggable&&this.carousel?(this.carousel.removeEventListeners(),this.carousel.off("tap")):(this.handler.removeListeners(this.id.tabs),this.id.tabs=[]),this.o.tabs.arrowsNav&&(this.handler.removeListeners(this.id.arrows),this.id.arrows=[])},Q.prototype.initSelectors=function(){var a=this.o.general,b=this.o.tabs,c=m(b.wrap,a.data,a.index)[0];this.e={container:c,wrap:c.querySelector(b.tabs),slider:c.querySelector(b.slider),tabs:r(c.querySelectorAll(b.tab)),leftArrow:c.querySelector(b.leftArrow),rightArrow:c.querySelector(b.rightArrow)},b.slide.run&&(this.e.slide=c.querySelector(b.slide.id))},Q.prototype._minimalist=function(a){a.minimalist&&(this.arrowsNav(!1),a.draggable=!1,a.arrowsNav=!1,a.slide.run=!1,a.fillWidth=!1)},Q.prototype.init=function(){var a=this.o.tabs;this.initSelectors(),this._minimalist(a),this.data=this.getData();var b=this.data.index;if(void 0===b)throw ga.name+": Missing index of an active tab.";this.cache.setProtected("default",this.e.wrap.outerHTML);var c=this.o.general.svgSprite,d=this;return this._on("counterDone",function(){ma(".svg-lazy",c,function(){a.draggable?d.initCarousel():(a.fillWidth?(d.initTabs(),d.slide(b)):d.initSimpleTabs(),d.eventListeners(!0))})}),a.arrowsNav&&this.arrowsNavVisibility(b,this.data.names.length),this.activeClass(!0,b),this.fire("init",[this.data]),this.data},Q.prototype.run=function(a){var b=this.data.names,c=this.data.index;if(na.string(a)&&b.includes(a))a=b.indexOf(a);else if(!na.number(a)||a===-1)throw ga.name+': Wrong argument "'+a+'". Use a tab index: ['+v(b.length).join(", ")+'], or choose from filter names: ["'+b.join('", "')+'"]';this.refreshData(a),this.carousel&&this.o.tabs.stickToActive&&this.carousel.select(a),this.slide(a,!0),this._fire("run",[this.data]),this.o.tabs.arrowsNav&&this.arrowsNavVisibility(a,b.length-1);var d=[this.e.tabs[a],this.data];return this.activeClass(!1,c),this.activeClass(!0,a),this.fire("change",d),0===a?this.fire("first",d):a+1===this.e.tabs.length&&this.fire("last",d),this.data},Q.prototype.restore=function(){this.removeEventListeners(),this.e.wrap.outerHTML=this.cache.getProtected("default")},Q.prototype.arrowsNav=function(a){a=a&&this.o.tabs.arrowsNav;var b=this.e.leftArrow,c=this.e.rightArrow,d=a?"visible":"hidden";b&&(b.style.visibility=d),c&&(c.style.visibility=d)},Q.prototype.arrowsNavVisibility=function(a,b){this.e.leftArrow.classList[0===a?"add":"remove"]("disabled"),this.e.rightArrow.classList[a===b?"add":"remove"]("disabled")},Q.prototype.initSimpleTabs=function(){this.arrowsNav(!1),this.containerClass("dc-tabs-center"),this.removeCarousel(),this.o.tabs.slide.run&&requestAnimationFrame(function(){this.getTabsWidths(function(a){this.slide(this.data.index,!1)}.bind(this))}.bind(this))},Q.prototype.resizeTabs=function(){var a=this.e.tabs[0].clientWidth;this.cache.set("tabWidth",a),this.removeCarousel(),this.slide(this.data.index,!1)},Q.prototype.initTabs=function(){if(!this.o.tabs.minimalist){var a=this.e.tabs,b=(this.e.wrap,100/a.length+"%");this.arrowsNav(!1),this.containerClass("dc-tabs-fillWidth"),l(a,function(a){a.style.width=b}),this.cache.remove("tabsWidths"),this.resizeTabs()}},Q.prototype.containerClass=function(a){var b=["dc-tabs-draggable","dc-tabs-center","dc-tabs-fillWidth"],c=this.e.container.classList;a&&b.remove(a),b.forEach(function(a){c.remove(a)}),a&&c.add(a)},Q.prototype.getTabsWidths=function(a){var b=this,c=this.cache.get("tabsWidths");return c?void a(c):(c=this.e.tabs.map(function(a){return a.clientWidth}),void requestAnimationFrame(function(){b.cache.set("tabsWidths",c),a(c)}))},Q.prototype.resize=function(a){a[0]!==!1&&(this.cache.remove("prevActiveIndex"),this.slideAnimation=null,this.removeEventListeners(),this.containerClass(""),this.o.tabs.draggable?this.initCarousel():(this.o.tabs.fillWidth&&(this.resizeTabs(),this.slide(this.data.index,!1)),this.addEventListeners()))},Q.prototype._slideValues=function(a,b){var c,d,e,f;if(this.cache.has("tabsWidths")){var g=this.cache.get("tabsWidths");c=z.call(g,a),d=z.call(g,b),e=g[a],f=g[b]}else{var h=this.cache.get("tabWidth");c=a*h,d=b*h,e=f=h}return{translateX:[c,d],width:[e,f]}},Q.prototype.slide=function(a,b){var c=this.o.tabs.slide;if(c.run){if(null===this.e.slide)throw ga.name+': Slide HTML element ("'+c.id+'") not found.';var d=this.cache.get("prevActiveIndex");void 0===d&&(d=a),this.cache.set("prevActiveIndex",a);var e=this._slideValues(d,a),f=e.width,g=e.translateX,h=this.transformPrefix,i=this.e.slide,j=i.style,k=g[0]!==g[1],l=f[0]!==f[1];
if(b){var m=[];requestAnimationFrame(function(){k&&(j[h]="translateX("+g[0]+"px)",m.push("transform")),l&&(j.width=f[0]+"px",m.push("width")),j.transitionProperty=m,m.length&&(j.transitionDuration=c.duration+"ms",j.transitionTimingFunction=H(c.easing),requestAnimationFrame(function(){k&&(j[h]="translateX("+g[1]+"px)"),l&&(j.width=f[1]+"px")}))})}else requestAnimationFrame(function(){j[h]="translateX("+g[1]+"px)",j.width=f[1]+"px"})}},R.prototype=Object.create(d.prototype),R.prototype.constructor=R,fa.Layout=R,a.Layout=R,R.prototype.layoutWidth=function(){var a=this.cache.get("layoutWidth");return a?a:this.cache.set("layoutWidth",this.e.layout.clientWidth)},R.prototype.x=function(){return Math.floor(this.layoutWidth()/this.itemWidth)},R.prototype.y=function(a){return Math.ceil((a||this.activeCells)/this.x())},R.prototype.animateItems=function(){if(this.prevActive.length||this.activeItems.length){var a,b,c,d,e,f=this.e.layoutItems,g=this.preloader.queue,h=g.length,i=this.o.item.effectMove;this.items&&this._finishPrevAnimation(),this.items={out:[],in:[],move:[]};for(var j=0;j<f.length;j++)if(!(h&&g.includes(j)||(a=this.activeItems.includes(j),b=this.prevActive.includes(j),b&&a&&o(this.p0[j],this.p1[j]))))if(!a&&b)f[j].classList.add("item-scaleOut"),this.items.out.push(j),d=j;else if(a&&b){var k=f[j].style,m=this.p0[j];k.top=0,k.left=0,k[this.transformPrefix]="translate3d("+m[0]+"px,"+m[1]+"px, 0)",this.items.move.push(j),e=j}else if(a&&!b){var n=f[j],p=n.style,m=this.p1[j];p.left=m[0]+"px",p.top=m[1]+"px",p.display="block",n.classList.add("item-scaleIn"),this.items.in.push(j),c=j}void 0!==d&&this._effectOut(d),void 0!==c&&this._effectIn(c),void 0!==e&&(this._effectMove(e),requestAnimationFrame(function(){var a=i.duration+"ms",b=H(i.easing);l(this.items.move,function(c,d){var e=f[c].style,g=this.p1[c];e.transitionDuration=a,e.transitionTimingFunction=b,e[this.transformPrefix]="translate3d("+g[0]+"px,"+g[1]+"px, 0)"},this)}.bind(this)))}},R.prototype._effectOut=function(a){var b=this.e.layoutItems;this.id.effectOut=this.handler.addListener(b[a],"animationend",function(){var a;l(this.items.out,function(c){a=b[c],a.style.display="none",a.classList.remove("item-scaleOut")}),this.items.out=[],this.handler.removeListener(this.id.effectOut)}.bind(this))},R.prototype._effectIn=function(a){var b=this.e.layoutItems;this.id.effectIn=this.handler.addListener(b[a],"animationend",function(){l(this.items.in,function(a){b[a].classList.remove("item-scaleIn")}),this.items.in=[],this.handler.removeListener(this.id.effectIn)}.bind(this))},R.prototype._effectMove=function(a){var b=this.e.layoutItems;this.id.effectMove=this.handler.addListener(b[a],"transitionend",function(){var a,c;l(this.items.move,function(d){a=b[d].style,a.transitionDuration="",a.transitionTimingFunction="",c=this.p1[d],a.left=c[0]+"px",a.top=c[1]+"px",a[this.transformPrefix]=""},this),this.items.move=[],this.handler.removeListener(this.id.effectMove)}.bind(this))},R.prototype._finishPrevAnimation=function(){var a=this.e.layoutItems,b=this.items.in,c=this.items.out,d=this.items.move;if(b.length&&(this.handler.removeListener(this.id.effectIn),l(b,function(b){a[b].classList.remove("item-scaleIn")})),c.length){this.handler.removeListener(this.id.effectOut);var e;l(c,function(b){e=a[b],e.style.display="none",e.classList.remove("item-scaleOut")})}if(d.length){this.handler.removeListener(this.id.effectMove);var f,g;l(d,function(b){f=a[b].style,f.transitionDuration="",f.transitionTimingFunction="",g=this.p1[b],f.left=g[0]+"px",f.top=g[1]+"px",f[this.transformPrefix]=""},this)}this.items.in=[],this.items.out=[],this.items.move=[]},R.prototype.showItems=function(a,b){this._initEffectSetup();var c=this.e.layoutItems,d=this.cache.get("initEffect"),e=d.name,f=S(a.length-1,d.delay,d.deductedDelay)>0;if(f){var g=c[0];g.classList.add(e);var h=1e3*parseFloat(getComputedStyle(g).animationDuration);g.classList.remove(e)}if(f){var i=this.spinner.bind(this);setTimeout(function(){i(!1)},S(0,d.delay,d.deductedDelay))}else this.spinner(!1);l(a,function(b,g){var h=c[b],i=h.style;i.display="block";var j=this.p1[b];i.left=j[0]+"px",i.top=j[1]+"px";var k=S(g,d.delay,d.deductedDelay);if(f?(i.opacity=0,i.animationDelay=k+"ms",i.webkitAnimationDelay=k+"ms"):h.classList.add(e),h.classList.add(e),a.length-1===g)var m=this.handler,n=m.addListener(h,"animationend",function(){l(a,function(a){c[a].classList.remove(e)}),m.removeListener(n)})},this),f&&setTimeout(function(){l(a,function(a){var b=c[a],d=b.style;b.classList.remove(e),d.opacity="",d.animationDelay="",d.webkitAnimationDelay=""}),b&&b()},S(a.length-1,d.delay,d.deductedDelay)+h)},R.prototype.showItem=function(a,b){var c=this.e.layoutItems[a],d=this.cache.get("initEffect"),e=this.p1[a],f=c.style;f.display="block",f.left=e[0]+"px",f.top=e[1]+"px",c.classList.add(d.name);var g=this.handler,h=g.addListener(c,"animationend",function(){c.classList.remove(d.name),g.removeListener(h)})},R.prototype.hideItems=function(a){var b=this.e.layoutItems;a.forEach(function(a){b[a].style.display="none"})},R.prototype.autoHeight=function(a){var b=this.o.autoHeight;if(b){var c=this.cache.get("prevHeight"),d=this.map.mapY()*this.itemHeight;if(c===d)return this.cache.set("prevHeight",d);var e=this.e.layout,f=e.style;void 0===c&&(f.height=d+"px",c=d),na.number(this.id.autoHeightTimeout)&&clearTimeout(this.id.autoHeightTimeout),na.number(this.id.autoHeight)&&this.handler.removeListener(this.id.autoHeight),this.id.autoHeightTimeout=setTimeout(function(){if(this.id.autoHeightTimeout=null,0===b.duration)f.height=d+"px",this.fire("height",[c,d]);else{var a=this.transformPrefix,e=this.animations.autoHeight;if(e)e.reset({duration:b.duration,easing:b.easing,from:c,to:d});else{var g=b.toFixed;e=this.animations.autoHeight=new SmoothMove({autoStart:!1,from:c,to:d,duration:b.duration,easing:b.easing,fps:30}),e.on("begin",function(){f[a]="translateZ(0)"}),e.on("progress",function(a,b){b=b.toFixed(g),this.prevX!==b&&(f.height=b+"px",this.prevX=b)}),e.on("complete",function(){f[a]="",this.fire("height",[c,d])}.bind(this))}e.play()}this.cache.set("prevHeight",d)}.bind(this),c>d?b.delay:0)}else(a||this.cache.get("updateHeight"))&&(this.e.layout.style.height=this.cache.get("maxHeight")*this.itemHeight+"px",this.cache.set("updateHeight",!1))},R.prototype.fallbackMessage=function(a,b){var c=this.o.fallbackMessage;if(c)if(a){b&&(this.spinner(!1),this.autoHeight(!0)),this.e.fMessageFilter.textContent='"'+this.filterName+'"',clearTimeout(this.id.fallbackMessage);var d=this.e.fMessage;this.id.fallbackMessage=setTimeout(function(){d.style.display="block",d.classList.add("fadeIn")},b?0:c.delay),this.fMessage=!0,this.fire("empty")}else this.fMessage&&(this.e.fMessage.style.display="none",this.e.fMessage.classList.remove("fadeIn"),this.e.fMessageFilter.textContent="",this.fMessage=!1)},R.prototype._hoverEffectTouchStart=function(a){var b=document.querySelector(".effect-is-active"),c=a.querySelector(this.o.item.wrap);c.classList.contains("effect-is-active")||(b&&b.classList.remove("effect-is-active"),c.classList.add("effect-is-active")),this.handler.removeListener(this.id.removeEffect),this.id.removeEffect=this.handler.addListener(document.body,"touchstart",function(a){var b=document.querySelector(".effect-is-active");if(b){for(var c=a.target,d=!0;c;){if(c.classList.contains(n(this.o.item.wrap))){d=!1;break}c=c.parentElement}d&&(b.classList.remove("effect-is-active"),this.handler.removeListener(this.id.removeEffect))}}.bind(this))},R.prototype.hoverEffect=function(a,b){return a?void la.quickTest(function(a){if(a){var c=F(),d=this;l(this.e.layoutItems,function(a,b){this.handler.removeListener(this.id.enter[b]),this.id.enter[b]=this.handler.addListener(a,"touchstart",function(){d._hoverEffectTouchStart.call(d,a)},!!c&&{passive:!0})},this,b)}else{var e,f=this.o.item.wrap;l(this.e.layoutItems,function(a,b){e=a.querySelector(f),this.handler.removeListener(this.id.enter[b]),this.id.enter[b]=this.handler.addListener(e,"mouseenter",function(){this.classList.add("effect-is-active")}),this.handler.removeListener(this.id.leave[b]),this.id.leave[b]=this.handler.addListener(e,"mouseleave",function(){this.classList.remove("effect-is-active")})},this,b)}}.bind(this)):(this.handler.removeListeners(this.id.enter),this.handler.removeListener(this.id.removeEffect),this.handler.removeListeners(this.id.leave),this.id.enter=[],void(this.id.leave=[]))},R.prototype._activateHoverEffect=function(a){var b=this.e.layoutItems[a];la.quickTest(function(c){if(c)this.handler.removeListener(this.id.enter[a]),this.id.enter[a]=this.handler.addListener(b,"touchstart",this._hoverEffectTouchStart.bind(this,b),!!this.passiveListeners&&{passive:!0});else{var d=b.querySelector(this.o.item.wrap);this.handler.removeListener(this.id.enter[a]),this.id.enter[a]=this.handler.addListener(d,"mouseenter",function(){this.classList.add("effect-is-active")}),this.handler.removeListener(this.id.leave[a]),this.id.leave[a]=this.handler.addListener(d,"mouseleave",function(){this.classList.remove("effect-is-active")})}}.bind(this))},R.prototype.getItemWidth=function(){return this.o.layout.fillContainerWidth?Math.floor(this.layoutWidth()/Math.floor(this.layoutWidth()/this.o.item.width)):Math.min(this.o.item.width,this.layoutWidth())},R.prototype.getItemHeight=function(){return Math.round(this.o.item.height*(this.itemWidth/this.o.item.width))},R.prototype._setItemDimensions=function(a,b){b.width=this.itemWidth*a[0]+"px",b.height=this.itemHeight*a[1]+"px"},R.prototype._setWrapDimensions=function(a,b,c){a.marginTop=c+"px",a.marginLeft=c+"px",a.width=this.itemWidth*b[0]-2*c+"px",a.height=this.itemHeight*b[1]-2*c+"px"},R.prototype._initItemsSizes=function(a){var b,c,d=this.o.layout,e=d.lazyload,f=this.o.item,g=f.margin,h=f.wrap,i=d.random.sizes,j=d.random.run,k=" "+this.o.item.hoverEffect;l(this.e.layoutItems,function(d,l){j?b=U(i,a):(b=d.getAttribute(f.dataSize),b=b?b.split("x").map(parseFloat).map(Math.round):[1,1]),c=d.querySelector(h),c.className+=k,c&&(c=c.style),b=T(b,a),this._setItemDimensions(b,d.style),c&&(0===g?c.border="none":c.borderWidth=g+"px",e||this._setWrapDimensions(c,b,g)),this.sizes[l]=b},this,this.cache.get("startFrom"))},R.prototype.fillImage=function(a,b,c,d,e){if(this.o.layout.fillImages){var f="";f=b[1]>b[0]?"fill-height":b[1]<b[0]?"fill-width":d<e?"fill-width":"fill-height";var g=c.classList;g.remove("fill-height","fill-width"),g.add(f)}},R.prototype.enqueueItems=function(){var a=this.preloader,b=[];a.abort(),p(b,this.activeItems),this.o.layout.syncLoad&&b.push(-2),p(b,this.inactiveItems),b.push(-2),a.done.forEach(function(a){b.remove(a)}),a.clearQueue(),a.enqueue(b.reverse())},R.prototype._getImagePath=function(a){var b=this.o.item,c=this.e.layoutItems[a].querySelector(b.imgClass),d=c.getAttribute(b.data);return d?b.pathPrefix+d:d},R.prototype._imageLoaded=function(a,b){var c=b.width,d=b.height,e=this.e.layoutItems[a];requestAnimationFrame(function(){this.fillImage(a,this.sizes[a],b,c,d);var f=e.querySelector(this.o.item.imgClass);b.alt=f.alt,b.className+=" "+f.className,f.parentElement.replaceChild(b,f),this.fire("success",[a,b])}.bind(this))},R.prototype._imageFailed=function(a,b){var c=this.o.item,d=n(c.errorClass),e=this.e.layoutItems[a],f=e.querySelector(c.imgClass),g=this.o.general.svgSprite,h=document.createElement("div");h.classList.add(d,n(c.imgClass),"svg-lazy-fallback"),h.setAttribute("data-svg",c.errorImg),e.classList.add(d),e.querySelector(c.wrap).replaceChild(h,f),this._setWrapDimensions(e.style,this.sizes[a],c.margin),this.errors.includes(a)||this.errors.push(a),requestAnimationFrame(function(){ma(".svg-lazy-fallback",g)}),this.fire("fail",[a,b])},R.prototype._activeImagesLoaded=function(){this.cache.has("initEffect")||this._initEffectSetup(),this.autoHeight(!0);var a=this.cache.get("animateOnly")||this.activeItems,b=function(){this.preloader&&this.preloader.queue.length&&this._switchToAsyncLoad()}.bind(this);a.length?this.showItems(a,b):b()},R.prototype._allImagesLoaded=function(a){this.precalculate(),!this.o.autoHeight&&"all"!==this.filterName&&this.o.layout.precalculate&&this.autoHeight(!0),this._fire("imagesLoaded"),this.fire("done",[a])},R.prototype._initEffectSetup=function(){var a=Object.assign({},this.o.item.initEffect);a.deductedDelay=-a.initDelay,this.cache.set("initEffect",a)},R.prototype._activateAsyncLoad=function(){this.cache.has("initEffect")||this._initEffectSetup();var a=this.preloader.done,b=this.e.layoutItems;l(this.cache.get("animateOnly")||this.activeItems,function(c,d){a.includes(c)?this.showItem(c,d):b[c].style.display="none"},this),void 0!==this.id.always&&this.preloader.off("always",this.id.always),this.id.always=this.preloader.on("always",function(a){var b=this.cache.get("animateOnly")||this.activeItems,c=b.indexOf(a);c!==-1&&this.showItem(a,c)}.bind(this))},R.prototype._switchToAsyncLoad=function(){this.o.layout.syncLoad&&(this.o.layout.syncLoad=!1,this._activateAsyncLoad(),this.preloader.on("finish",function(){this.o.layout.syncLoad=!0}.bind(this)))},R.prototype._animateOnly=function(a,b,c){var d=[],e=this.map;return l(b,function(b,f){b===a[f]&&o(c.positionOf(b),e.positionOf(b))||d.push(b)}),d},R.prototype.loadMore=function(a,b,c,d){var e=this.cache.get(this.filterName).activeItems,f=this.cache.get("initEffect");f.deductedDelay+=this.activeItems.length*this.o.item.initEffect.delay;var g=this.cache.get("initEffectMethod");this.cache.clear(),this.cache.set("startFrom",c),this.cache.set("initEffect",f),this.cache.set("initEffectMethod",g),this.filterName=b.name,this.filterNames=b.names;var h=new X;this.activeItems.length;h.inheritFrom(this.map),this._initItemsSizes(this.x()),this.run(this.filterName,!0);var i=this.cache.get(this.filterName).activeItems;this.cache.set("animateOnly",this._animateOnly(e,i,h));var j=function(){this.cache.set("showOnly",void 0),this.cache.set("startFrom",0),d()}.bind(this),k=this.inactiveItems,l=[];if(a.forEach(function(a){k.includes(a)&&l.push(a)}),this.hideItems(l),this.o.layout.lazyload){var m=this.preloader;m.off("notifyMe"),m.on("notifyMe",function(a){void 0!==a&&this._activeImagesLoaded()}.bind(this)),j&&m.one("finish",j),this.o.layout.syncLoad||(this._activateAsyncLoad(),this.autoHeight(!0)),this.enqueueItems()}else this.showItems(this.cache.get("animateOnly")),j();this.counter()},R.prototype._align=function(a){var b=this.o.layout.alignContent,c=this.e.layout.style,d=this.itemWidth*a+"px";requestAnimationFrame(function(){c.width=d,"left"===b?c.marginLeft=0:"right"===b&&(c.marginRight=0)})},R.prototype.spinner=function(a){var b=this.e.spinner;!this.o.layout.spinner&&b&&(a=!1),b.style.display=a?"block":"none"},R.prototype.counter=function(){var a={};l(this.filterNames,function(b){a[b]=0}),l(q(this.e.layoutItems),function(b){void 0!==a[b]&&a[b]++}),a.all=this.e.layoutItems.length,this._fire("counter",[a])},R.prototype.calc=function(){this.filter(),this.sort()},R.prototype.precalculate=function(){if(this.o.layout.precalculate){var a=this.filterName;l(this.filterNames,function(b){b!==a&&(this.filterName=b,this.calc())},this),this.filterName=a,this.calc()}},R.prototype.randomItems=function(){var a=this.o.layout.random;if(a.run){for(var b,c=this.o.layout.random.itemsCount,d=document.createDocumentFragment(),e=this.o.item,f=n(e.id),g=n(e.wrap),h=this.o.layout.random.content,i=0;i<c;i++)b=W(f,g,V(this.filterNames),i,h),d.appendChild(b);this.e.layout.appendChild(d),this.e.layoutItems=this.e.layout.querySelectorAll(e.id)}},R.prototype.initSelectors=function(){var a=this.o.general,b=this.o.layout,c=m(b.id,a.data,a.index)[0];if(this.e={layout:c,layoutItems:r(c.querySelectorAll(this.o.item.id))},b.spinner&&(this.e.spinner=m(b.spinnerId,a.data,a.index)[0]),this.o.fallbackMessage){var d=this.o.fallbackMessage;this.e.fMessage=m(d.id,a.data,a.index)[0],this.e.fMessageFilter=this.e.fMessage.querySelector(d.filter)}},R.prototype.run=function(a,b){this.filterName=a,this.calc(),this.fallbackMessage(!this.activeCells,b),b||this.animateItems(),this.preloader&&this.preloader.queue.length&&(this.spinner(!1),this._switchToAsyncLoad(),this.enqueueItems());var c=this.cache.get(a);this.fire("change",[a,{activeItems:c.activeItems,inactiveItems:c.inactiveItems,quality:c.quality}])},R.prototype.init=function(){if(na.empty(this.e)&&this.initSelectors(),this.itemWidth=this.getItemWidth(),this.itemWidth<1)throw ga.name+": The item width must be positive number";if(this.itemHeight=this.getItemHeight(),this.itemHeight<1)throw ga.name+": THe item height must be positive number";var a=this._fire("tabsData");this.filterName=a.name,this.filterNames=a.names,this.cache.setProtected("default",this.e.layout.outerHTML),this.randomItems();var b=this.x();if(0===b)throw ga.name+': The "x" parameter ('+b+") must be bigger than 0";if(this._align(b),this._initItemsSizes(b),this.run(this.filterName,!0),this.hideItems(this.inactiveItems),this.o.layout.lazyload){if(!this.preloader){var c=this.preloader=new O;c.on("path",this._getImagePath.bind(this)),c.on("success",this._imageLoaded.bind(this)),c.on("fail",this._imageFailed.bind(this)),c.on("always",this._activateHoverEffect.bind(this)),c.on("idleStart",this._fire.bind(this,"idleStart")),c.on("idleEnd",this._fire.bind(this,"idleEnd")),c.on("notifyMe",function(a){void 0===a?this._allImagesLoaded():(this.inactiveItems[0]===a||a===-2&&!this.inactiveItems.length)&&this._activeImagesLoaded()}.bind(this))}this.o.layout.syncLoad||(this._activateAsyncLoad(),this.spinner(!1),this.autoHeight(!0)),this.enqueueItems()}else this.autoHeight(),this.showItems(this.activeItems),this.hoverEffect(!0);this.counter(),this.fire("init")},R.prototype.powerHungry=function(a){if(a&&a[0]===!1)return{layoutWidth:this.cache.get("layoutWidth")};this.initSelectors();var b=this.e.layout;return void 0!==b.style.width&&(b.style.width=""),{layoutWidth:b.clientWidth}},R.prototype.resizeSetup=function(a){a[0]&&this.cache.set("prevLayoutWidth",this.cache.get("layoutWidth"));var b=document.querySelector(".effect-is-active");b&&b.classList.remove("effect-is-active")},R.prototype.resize=function(a){if(a[0]!==!1){var b=this.cache.get("prevLayoutWidth"),c=this.cache.get("layoutWidth");if(b===c)return void(this.e.layout.style.width=this.itemWidth*this.x()+"px");this.itemWidth=this.getItemWidth(),this.itemHeight=this.getItemHeight();var d=this.x();this._align(d),l(this.filterNames,function(a){this.cache.set(a,void 0)},this),this._initItemsSizes(d);var e=this.e.layoutItems,f=this.o.item.margin;l(this.errors,function(a){this._setWrapDimensions(e[a].style,this.sizes[a],f)},this),this.run(this.filterName),this.autoHeight(),this.hoverEffect(!1),this.hoverEffect(!0)}},R.prototype.restore=function(){this.spinner(!0),this.o.fallbackMessage&&(this.e.fMessage.display="none"),this.e.layout.outerHTML=this.cache.getProtected("default")},R.prototype.appendItems=function(a){var b=document.createDocumentFragment();l(a,function(a){b.appendChild(a)}),this.e.layout.appendChild(b),ma(".svg-lazy",this.o.general.svgSprite)},X.prototype.indexOf=function(a){return this.map.indexOf(a)},X.prototype.has=function(a){return this.map.includes(a)},X.prototype.inheritFrom=function(a){this.map=a.map,this.x=a.x,this.y=a.y},X.prototype.mapY=function(a){return Math.ceil((a||this.map.length)/this.x)},X.prototype.getItems=function(){var a=[];return l(this.map,function(b){"e"===b||a.includes(b)||a.push(b)}),a},X.prototype.positionOf=function(a,b){return b=b||this.map.indexOf(a),b===-1?[]:[b%this.x,Math.floor(b/this.x)]},X.prototype.print=function(){for(var a=0,b=0,c=[],d=this.map.length,e=0;e<d;e++)a===this.x&&(b+=this.x,console.log(c),c=[],a=0),c.push(this.map[e]),a++;if(this.map.length-b<=this.x){c=[];for(var f=b;f<this.map.length;f++)c.push(this.map[f]);console.log(c)}},X.prototype.each=function(a,b,c){for(var d,e=b[0],f=b[1],g=0,h=0,i=0,j=e*f;i<j;i++)d=a+g+h,c(this.map[d],d,this.map),e>1&&h<e&&h++,(f>1&&h===e&&e>1||1===e&&h+1===e)&&(h=0,g+=this.x)},X.prototype.qualitySorting=function(a){for(var b=this.mapY()*this.x-a,c=this.map.length-1;0<=c&&"e"===this.map[c];c--)b--;return a<b?1:1-b/a},X.prototype.create=function(a,b,c){this.map=[],this.x=a,this.y=b;for(var d=0,e=a*b;d<e;d++)this.map.push(c)},X.prototype.appendRows=function(a){this.y+=a;for(var b=0,c=a*this.x;b<c;b++)this.map.push("e");return this.map.length-(a+1)*this.x},X.prototype.mark=function(a,b,c){this.each(a,b,function(a,b,d){d[b]=c})},X.prototype._spaceOnX=function(a,b){for(var c=a+1,d=b+a;c<d;c++)if("e"!==this.map[c])return c;return b+a},X.prototype._spaceOnY=function(a,b){for(var c=a+this.x,d=b*this.x+a;c<d;c+=this.x)if("e"!==this.map[c])return c;return a+b},X.prototype._checkRestOfCells=function(a,b,c){b--,c--;for(var d=0,e=0,f=0,g=b*c;f<g;f++){if("e"!==this.map[a+d+e])return a+d+e;b>1&&e<b&&e++,(c>1&&e===b&&b>1||1===b&&e+1===b)&&(e=0,d+=this.x)}return a+b+1+(c+1)*this.x},X.prototype.findEmpty=function(a,b){for(var c=a||0,d=this.map.length;c<d;c++)if("e"===this.map[c])return c;return this.appendRows(b),this.findEmpty(this.map.length-1-this.x*b,b)},X.prototype._freePositionA=function(a,b,c){var d=a%this.x,e=d+b<=this.x,f=Math.floor(a/this.x)+c<=this.y;return e&&f?this._freePositionB(a,b,c):e&&!f?(this.appendRows(c),this._freePositionA(a,b,c)):!e&&f?this._freePositionA(this.findEmpty(a+this.x-d,c),b,c):(this.appendRows(c),this._freePositionA(this.findEmpty(a+this.x-d,c),b,c))},X.prototype._freePositionB=function(a,b,c){var d=this._spaceOnX(a,b);if(d===b+a){var e=this._spaceOnY(a,c);if(e===c+a){var f=this._checkRestOfCells(a,b,c);return f===a+c*this.x+b?a:this._freePositionA(this.findEmpty(f+1,c),b,c)}return this._freePositionA(this.findEmpty(e+1,c),b,c)}return this._freePositionA(this.findEmpty(d+1,c),b,c)},X.prototype.freePosition=function(a,b,c){if(void 0===a||void 0===b||void 0===c||b<1||c<1||a<0)throw ga.name+": Parameters are not correct. (index: "+a+", sX: "+b+", sY:"+c+"). They have to fulfill following conditions: index >= 0, sX >= 1, sY >= 1.";return 1===b&&1===c?a:this._freePositionA(a,b,c)},X.prototype.extractItemTo=function(a,b,c){this.mark(this.map.indexOf(a),b,"e"),u(c,b[0]*b[1],a)},X.prototype.hasEmptyRow=function(a,b){for(var c=a;c<b;c++)if("e"!==this.map[c])return!1;return!0},X.prototype.removeEmptyRows=function(a){a=a||this.map.length;var b=a-this.x;if(this.hasEmptyRow(b,a))return this.map.splice(b,this.x),this.removeEmptyRows(this.map.length)},R.prototype._filterItems=function(){var a,b=this.o.layout.sortBySize,c={};this.activeItems=[],this.inactiveItems=[],this.activeCells=0,l(this.e.layoutItems,function(d,e){a=this.sizes[e],a=a[0]*a[1],"all"===this.filterName||d.hasClass(this.filterName)?(b&&u(c,a,e),this.activeItems.push(e),this.activeCells+=a):this.inactiveItems.push(e)},this),this.cache.set(this.filterName,{activeItems:this.activeItems,inactiveItems:this.inactiveItems,activeCells:this.activeCells,activeSortedBySize:c})},R.prototype.filter=function(){this.o.general.dev&&(this.t0=performance.now()),this.prevActive=this.activeItems;var a=this.cache.get(this.filterName);a&&a.activeItems?this._retrieveFilterCache(a):this._filterItems()},R.prototype._retrieveFilterCache=function(a){this.activeItems=a.activeItems,this.inactiveItems=a.inactiveItems,this.activeCells=a.activeCells,this.activeSortedBySize=a.activeSortedBySize},R.prototype._calcDistance=function(a){return[a[0]*this.itemWidth,a[1]*this.itemHeight]},R.prototype._calcAnimation=function(a,b){this.map.has(a)&&this.prevMap.has(a)?(this.p0[a]=this._calcDistance(this.prevMap.positionOf(a)),this.p1[a]=this._calcDistance(this.map.positionOf(a,b))):this.p0[a]=this.p1[a]=this._calcDistance(this.map.positionOf(a,b))},R.prototype._sortProcess=function(a){var b=this.sizes[a],c=this.map.freePosition(this.map.indexOf("e"),b[0],b[1],0);this.map.mark(c,b,a),this._calcAnimation(a,c)},R.prototype.getPositions=function(a,b){if("bySize"===b){var c=[];k(a,function(a){c.push(+a)}),l(c.reverse(),function(b){l(a[b].sort(),this._sortProcess,this)},this)}else l(a,this._sortProcess,this)},R.prototype.sort=function(){this.prevMap.inheritFrom(this.map);var a=this.cache.get(this.filterName),b=this.o.layout;if(a&&a.map)return void this._retrieveSortCache(a);this.map.create(this.x(),this.y(),"e");var c=1;b.sortBySize?(this.getPositions(a.activeSortedBySize,"bySize"),this.map.removeEmptyRows(),c=this.map.qualitySorting(this.activeCells)):(this.getPositions(this.activeItems),this.map.removeEmptyRows(),c=this.checkSortQuality(this.filterName)),this.map.mapY()>this.cache.get("maxHeight")&&(this.cache.set("updateHeight",!0),this.cache.set("maxHeight",this.map.mapY())),a.map=this.map.map,a.quality=c||null,this.activeItems=a.activeItems=this.map.getItems(),b.indexOrderCorrection&&!b.sortBySize&&b.improveSorting&&(this.activeItems=a.activeItems=this._orderCorrection(a.activeItems))},R.prototype._retrieveSortCache=function(a){this.map.map=a.map,l(a.activeItems,function(a){this._calcAnimation(a)},this)},R.prototype.checkSortQuality=function(){var a=this.map.qualitySorting(this.activeCells);if(a<this.o.layout.qualitySorting&&this.o.layout.improveSorting){this._backup(0,1,a);var b=this.improveSorting(1,1,a);return this.storage.clear(),b}return a},R.prototype._orderCorrection=function(a){var b,c,d,e,f,g,h={},i={},j=[],k=[],m=[];if(l(a,function(a){c=this.sizes[a],b=c[0]+"x"+c[1],void 0===h[b]?(h[b]=[a],i[b]=[a],j.push(b)):(h[b].push(a),i[b].push(a))},this),l(j,function(a,b){for(k=h[a],d=1,e=k.length;d<e;d++)if(f=k[d-1],g=k[d],f>g){k.sort(function(a,b){return a-b}),m.push(a);break}}),!m.length)return a;var n,o,p,q,r=[];return l(m,function(a){k=h[a],c=this.sizes[k[0]],l(i[a],function(a,b){n=k[b],a===n||r.includes(a)||(o=this.map.indexOf(a),p=this.map.indexOf(n),this.map.mark(o,c,n),this.map.mark(p,c,a),q=this.p1[n],this.p1[n]=this.p1[a],this.p1[a]=q,r.push(a,n))},this)},this),this.map.getItems()},R.prototype.storage={items:{},qualities:[],backup:function(a,b){this.items.hasOwnProperty(a)||(this.qualities.push(+a),this.items[a]=b)},bestResult:function(){var a=0;return l(this.qualities,function(b){b>a&&(a=b)}),this.items[a]},clear:function(){this.qualities=[],this.items={}}},R.prototype._backup=function(a,b,c){this.storage.backup(c,{quality:c,id:a,sensitivity:b,p0:this.p0,p1:this.p1,map:this.map.map})},R.prototype._recovery=function(){var a=this.storage.bestResult();return this.map.map=a.map,this.p0=a.p0,this.p1=a.p1,a.quality},R.prototype._unfittedItemsArea=function(){var a=this.map.map;return[a.indexOf("e"),a.lastIndexOf("e")]},R.prototype._extractUnfittedItems=function(a,b,c){var d=this.map.map,e=this.map.mapY(),f=this.map.x,g=Math.floor(a/f),h=Math.floor(b/f),i=c/this.o.layout.sensitivity,j=Math.min(e,Math.max(1,Math.abs(h-g))),k=Math.min(e,Math.ceil(j*(1+i)));g=Math.max(0,k-j),h=Math.min(e,j-k);var l=e-g,m=e-h,n=Math.ceil(i*l),o=Math.ceil(i*m);a=Math.max(0,a-n*f),b=Math.min(d.length-1,b+o*f);for(var p,q={},r=a;r<b;r++)p=d[r],"e"!==p&&this.map.extractItemTo(p,this.sizes[p],q);return q},R.prototype.improveSorting=function(a,b,c){var d=this._unfittedItemsArea(),e=this._extractUnfittedItems(d[0],d[1],b);this.getPositions(e,"bySize"),this.map.removeEmptyRows();var f=this.map.qualitySorting(this.activeCells),g=this.o.layout;return f>=g.qualitySorting&&f>c?f:(this._backup(a,b,f),b<g.sensitivity?this.improveSorting(++b,++a,f):this._recovery())},R.prototype.getItems=function(){var a=this.cache.get(this.filterName);return void 0===a?this.map.getItems():a.activeItems},Y.prototype=Object.create(d.prototype),Y.prototype.constructor=Y,a.LoadMore=Y,Y.prototype.updateStatus=function(a){this.e.btnStatus.textContent=a},Y.prototype.spinner=function(a){if(this.e.btn.blur(),this.o.loadMore.spinner){var b=a?"block":"none";r(this.e.spinner.children).forEach(function(a){a.style.display=b}),this.e.btnStatus.style.display=a?"none":"block"}},Y.prototype.updateInterface=function(a){var b=this.o.loadMore,c=this.e.btn;switch(this.spinner(!1),this.updateStatus(a),a){case b.fail:c.removeClass(b.classEmpty),c.addClass(b.classFail),this.failed=!0,this.fire("fail");break;case b.empty:c.removeClass(b.classFail),c.addClass(b.classEmpty),c.setAttribute("disabled",!0),this.fire("empty"),this.removeEventListeners();break;case b.more:c.removeClass(b.classFail),this.fire("success");break;default:c.removeAttribute("disabled"),c.removeClass(b.classFail),c.removeClass(b.classEmpty),this.updateStatus(b.more)}},Y.prototype.filterItems=function(a){var b=j(a);if(b.length)for(var c=0,d=b.length;c<d;c++)this.indexes.push(this.itemsLength+c);else this.updateInterface(this.o.loadMore.empty);return r(b)},Y.prototype.doses=function(a){var b=this.o.loadMore.dose,c=this.indexes.length||a;if(!na.number(b)&&"all"!==b||b<1)throw ga.name+": Wrong value ("+b+'). It must be a whole positive {Number} or {String} - "all".';if("all"===b)this.dosage=[],this.dosage.push(c);else{for(var d=Math.floor(c/b),e=c-d*b;d--;)this.dosage.push(b);e&&this.dosage.push(e)}},Y.prototype.createGroups=function(a){for(var b,c=0,d=[],e=0,f=this.dosage.length;e<f;e++){for(d=[],b=0;b<this.dosage[e];b++)d.push(a[c]),c++;this.groups.push(d)}a=[]},Y.prototype.render=function(){var a=this.groups.shift(),b=a.length;this.toShow=[];for(var c=0;c<b;c++)this.toShow[c]=c+this.itemsLength;this.done+=b,this._fire("appendItems",[a])},Y.prototype._animateIn=function(){this.groups.length&&!this.loading&&(this.loading=!0,this.removeEventListeners(),this.render(),this._fire("loadMoreReady",[this.toShow,function(){this.groups.length?(this.updateInterface(this.o.loadMore.more),this.addEventListeners(),this.loading=!1):this.updateInterface(this.o.loadMore.empty)}.bind(this)]))},Y.prototype.animateIn=function(){this.groups.length&&!this.loading&&(this.loading=!0,this.removeEventListeners(),this.render(),this._fire("loadMoreReady",[this.toShow,function(){this.groups.length&&(this.addEventListeners(),this.loading=!1)}.bind(this)]))},Y.prototype.load=function(){return!this.loading&&(0===this.done?f({url:this.o.loadMore.path,done:this._done.bind(this)}):this.done<=this.indexes.length&&this.animateIn(),!0)},Y.prototype._done=function(a){var b=this.filterItems(a.responseText);this.failed=!1,this.doses(),this.createGroups(b),this._animateIn()},Y.prototype._load=function(){return!this.loading&&(0===this.done?(this.spinner(!0),setTimeout(function(){f({url:this.o.loadMore.path,fail:this.updateInterface.bind(this,this.o.loadMore.fail),done:this._done.bind(this)})}.bind(this),this.failed?1e3:0)):this.done<=this.indexes.length&&(this.spinner(!0),this._animateIn()),!0)},Y.prototype.createItems=function(){for(var a=this.o.item,b=n(a.id),c=n(a.wrap),d=[],e=this.o.layout.random.content,f=this._fire("tabsData").names,g=0,h=this.dosage.shift();g<h;g++)d.push(W(b,c,V(f),g+this.itemsLength,e));this.groups.push(d)},Y.prototype.randomLoad=function(){0===this.done&&this.doses(this.o.layout.random.loadMore),this.dosage.length&&(this.spinner(!0),this.createItems(),this.render(),this._fire("loadMoreReady",[this.toShow]),this.updateInterface(this.o.loadMore.more),this.dosage.length||this.updateInterface(this.o.loadMore.empty))},Y.prototype.initSelectors=function(a){var b=this.o.general,c=this.o.loadMore;this.itemsLength=a,this.e.btn=m(c.id,b.data,b.index)[0],this.e.btnStatus=this.e.btn.querySelector(c.status),this.e.spinner=this.e.btn.querySelector(c.spinnerId)},Y.prototype.eventListeners=function(a){this.removeEventListeners(),a&&this.addEventListeners()},Y.prototype.addEventListeners=function(){var a=this.o.layout.random.run?this.randomLoad.bind(this):this._load.bind(this);this.btnEvent=this.handler.addListener(this.e.btn,"click",a)};Y.prototype.removeEventListeners=function(){void 0!==this.btnEvent&&(this.handler.removeListener(this.btnEvent),delete this.btnEvent)};Y.prototype.init=function(){var a=this._fire("itemsLength");this.initSelectors(a),this.updateStatus(this.o.loadMore.more)},Y.prototype.restore=function(){this.removeEventListeners(),this.updateInterface()},Z.prototype=Object.create(d.prototype),Z.prototype.constructor=Z,Z.prototype.injectTempate=function(a,b){var c=this.o.general;a=j(a)[0],a.setAttribute(c.data,c.index),this.e.template=a,
requestAnimationFrame(function(){document.body.appendChild(a),b&&b.call(this)}.bind(this))},Z.prototype.restore=function(){this.accessibility(!1),this.scrolling(!0),this.templateListeners(!1),this.openListeners(!1);var a=this.e.template;a&&a.remove()},Z.prototype.updateItems=function(a){this.items=a},Z.prototype.addOpenListeners=function(a){var b,c=[],d=this.e.btnOpen;l(a||this.items,function(a,e){b=d[a],b&&c.push(this.handler.addListener(b,"click",this.open.bind(this,a)))},this),this.id.openListeners=c},Z.prototype.removeOpenListeners=function(){void 0!==this.id.openListeners&&(this.handler.removeListeners(this.id.openListeners),delete this.id.openListeners)},Z.prototype.openListeners=function(a){this.removeOpenListeners(),a&&this.addOpenListeners()},Z.prototype.addTemplateListeners=function(){var a=$.call(this.handler,this.e.btnClose,this.close.bind(this)),b=$.call(this.handler,this.e.btnNext,this.goNext.bind(this,!0)),c=$.call(this.handler,this.e.btnPrev,this.goPrev.bind(this,!0));this.id.templateListeners=p(p(a,b),c)},Z.prototype.removeTemplateListeners=function(){void 0!==this.id.templateListeners&&(this.handler.removeListeners(this.id.templateListeners),delete this.id.templateListeners)},Z.prototype.templateListeners=function(a){this.removeTemplateListeners(),a&&this.addTemplateListeners()},Z.prototype.accessibility=function(a){if(this.o[this.type].accessibility)if(a){var b=this.handler.addListener(window,"keydown",this.keyboardControl.bind(this));this.id.accessibility=b}else void 0!==this.id.accessibility&&(this.handler.removeListener(this.id.accessibility),delete this.id.accessibility)},Z.prototype.keyboardControl=function(a){var b=this.o[this.type];switch(a.keyCode){case b.keyClose:this.close();break;case b.keyNext:this.goNext(!0);break;case b.keyPrev:this.goPrev(!0)}},_.prototype=Object.create(Z.prototype),_.prototype.constructor=_,fa.Gallery=a.Gallery=_,_.prototype.spinner=function(a,b){var c=b.querySelector(this.o.gallery.spinner);c.style.display=a?"block":"none"},_.prototype.initElements=function(){var a=this.o.gallery,b=this.e.template.querySelector(a.counter),c=this.e.caption;if(!a.showCounter&&b&&(b.style.display="none",delete this.e.counterCurrent,delete this.e.counterTotal),!a.showCaption&&c&&(c.style.display="none",delete this.e.caption),!a.showNav){var d;l(["next","prev","close"],function(a){d=this.e[a],d&&(d.style.display="none",delete this.e[a])},this)}},_.prototype.nav=function(a,b){if(!this.o.gallery.showNav)return void(b&&b.call(this));var c=[this.e.prev,this.e.next,this.e.close];b&&(na.number(this.id.navIn)&&this.handler.removeListener(this.id.navIn),this.id.navIn=this.handler.addListener(c[2],"transitionend",b.bind(this)));var d=a?"add":"remove";c.forEach(function(a){a.classList[d]("active")})},_.prototype.counter=function(a){this.o.gallery.showCounter&&this.e.counter.classList[a?"add":"remove"]("active")},_.prototype.caption=function(a){this.o.gallery.showCaption&&this.e.caption.classList[a?"add":"remove"]("active")},_.prototype.animateInBase=function(a){this.e.template.style.display="block";var b=this.e.overlay;if(this.o.gallery.animations){b.classList.add("fadeIn");var c=this.handler.addListener(b,"animationend",function(){this.handler.removeListener(c),b.classList.remove("fadeIn"),a&&a.call(this)}.bind(this))}else a&&a.call(this)},_.prototype.image=function(a,b){var c=b.querySelector(this.o.gallery.media).style;c.opacity=a?1:0,c.display=a?"block":""},_.prototype.error=function(a,b,c){var d=b.querySelector(this.o.gallery.errorClass),e=d.style;if(this.o.gallery.animations&&c){var f=a?"fadeIn":"fadeOut";a&&(e.display="block"),d.classList.add(f);var g=this.handler.addListener(d,"animationend",function(){d.classList.remove(f),a||(e.display=""),this.handler.removeListener(g)}.bind(this))}else e.opacity=a?1:0,e.display=a?"block":""},_.prototype.animateIn=function(a){if(!this.status.isVisible){var b=this.o.gallery,c=this.errors[this.slider.active]?"errorClass":"media",d=this.slider.getActiveSlide().querySelector(b[c]);if(this.status.isVisible=!0,b.animations){d.style.display="block",d.classList.add(b.effectIn);var e=this.handler.addListener(d,"animationend",function(){d.classList.remove(b.effectIn),this.handler.removeListener(e),a()}.bind(this))}else d.style.display="block",d.style.opacity=1,a&&a.call(this)}},_.prototype.animateOut=function(a){var b=this.o.gallery;this.status.isVisible=!1;var c=this.e.template,d=this.errors[this.slider.active]?"errorClass":"media",e=this.slider.getActiveSlide();this.caption(!1),this.counter(!1),this.nav(!1);var f=this.e.overlay,g=e.querySelector(b[d]);if(b.animations){g.classList.add(b.effectOut),f.classList.add("fadeOut");var h=this.handler,i=h.addListener(f,"animationend",function(){c.style.display="none",g.classList.remove(b.effectOut),f.classList.remove("fadeOut"),h.removeListener(i),a&&a()},!1)}else c.style.display="none",a&&a()},_.prototype.ui=function(a){this.nav(a),this.counter(a),this.caption(a)},_.prototype.deativateAnimations=function(){var a,b=this.o.gallery,c=[];b.showNav&&c.push(this.e.prev,this.e.next,this.e.close),b.showCounter&&c.push(this.e.counter),b.showCaption&&c.push(this.e.caption),c.forEach(function(b){a=b.style,a.transitionProperty="none",a.transitionDuration="0s",a.transitionTimingFunction="step-end"})},_.prototype.initCarousel=function(){var a=this.o.gallery,b=this;this.carousel=new L({wrap:this.e.slider,overlay:this.e.overlay,image:this.slider.getActiveSlide().querySelector(a.media),hasPrev:this.slider.hasPrev.bind(this.slider),hasNext:this.slider.hasNext.bind(this.slider),animations:a.animations,draggable:a.draggable,idleUI:a.idleUI&&!la.state&&(a.showNav||a.showCounter||a.showCaption),showUI:this._deactivateIdle.bind(this),hideUI:this._activateIdle.bind(this)}),this.carousel.addEventListeners(),this.carousel.on("next",function(){requestAnimationFrame(function(){var a=b.slider.getNext();b.content(a,1),b.fire("next",[a])})}),this.carousel.on("prev",function(){requestAnimationFrame(function(){var a=b.slider.getPrev();b.content(a,-1),b.fire("prev",[a])})}),this.carousel.on("closeStart",this.ui.bind(this,!1)),this.carousel.onEach("closeCancel zoomDefault",function(){this.ui(!0)}.bind(this)),this.carousel.on("closeFinish",function(){this.preloader.pause(),this._fire("close"),this.accessibility(!1),this.spinner(!1,this.slider.getActiveSlide()),this.e.template.hide(),this.status.isVisible=!1,this._closeTasks(),this.fire("close",[this.slider.active])}.bind(this));var c=n(this.o.gallery.btnClose),d=[a.media,a.caption],e=n(a.errorClass),f=la.state&&this.o.gallery.idleUI;d=d.map(function(a){return n(a)}),this.carousel.on("tap",function(a){for(f&&!this.errors[this.slider.active]&&this.toggleUI();a;){if(a.classList.contains(e)){this._fire("retryLoading");break}if(a.classList.contains(c)){this.close();break}if(C.call(a,d))break;a=a.parentElement}}.bind(this))},_.prototype.updateCounter=function(a){if(this.o.gallery.showCounter){var b=this.items.indexOf(a);0===b?this.fire("first",[this.o.gallery.infiniteCarousel]):b===this.items.length-1&&this.fire("last",[this.o.gallery.infiniteCarousel]),this.e.counterCurrent.textContent=b+1,this.e.counterTotal.textContent=this.items.length}},_.prototype.setCaption=function(a,b){var c=this.o.gallery,d=this.e.caption;d.querySelector(c.title).textContent=a[0],d.querySelector(c.description).textContent=a[1],b&&d.classList[b]("dc-gallery-caption-error")},_.prototype.updateCaption=function(a){if(this.o.gallery.showCaption){var b;if(this.errors[a])this.captions[a]=["Couldn't load image.","Tap here to retry."],this.slider.active===a&&(this.setCaption(["Couldn't load image.","Tap here to retry."],"add"),this._captionRetryLoading(!0));else{var b=this.captions[a];void 0===b&&(b=this.captions[a]=this._fire("updateFooter",[a])),null!==this.id.caption&&this._captionRetryLoading(!1),this.setCaption(b,"remove")}}},_.prototype.getCaption=function(a){var b=this.o.gallery;return[b.title,b.description].map(function(b){var c=a.querySelector(b);return c?s(c.textContent):""})},_.prototype.content=function(a,b){if(!(0!==b&&this.slider.active===a&&this.items.length>1)){switch(this.slider.update(a),b){case-1:this.slider.prev(a);break;case 1:this.slider.next(a);break;case 0:this.slider.initial(),this.loadContent(a,!0)}if(this.slider.changedSlides(function(a){void 0!==a&&this.loadContent(a,!1)},this),this.o.gallery.infiniteCarousel||this.slider.emptySlides(function(a){this.spinner(!1,a),this.image(!1,a)},this),this.updateCounter(a),this.updateCaption(a),this.prioritizeImage(a),this.carousel){var c=this.slider.getActiveSlide();this.carousel.updateImageElement(c.querySelector(this.o.gallery.media))}this.o.gallery.idleUI&&this.isIdle&&this.errors[a]&&this.toggleUI()}},_.prototype.prioritizeImage=function(a){var b=this.o.gallery,c=this.preloader,d=D({direction:this.slider.direction,range:b.preload,cycle:b.infiniteCarousel,set:this.items,done:c.done,prioritize:a});d.length&&(c.abort(),c.enqueue(d))},_.prototype.loadContent=function(a,b){var c=this.slider.getSlidesOf(a);c.length&&(this.success[a]?l(c,function(c){this._contentSuccess(a,c,b)},this):this.errors[a]?l(c,function(c){this._contentFail(a,c,b)},this):l(c,function(a){this.spinner(!0,a),this.status.isVisible&&this.image(!1,a)},this))},_.prototype._contentSuccess=function(a,b,c){this.error(!1,b),this.spinner(!1,b);var d=b.querySelector(this.o.gallery.media);d.style.display="block",d.src=this.success[a],c&&!this.status.isVisible?this.animateIn(this.caption.bind(this,!0)):this.image(!0,b,c)},_.prototype._contentFail=function(a,b,c){this.image(!1,b),this.spinner(!1,b),this.error(!0,b),this._on("retryLoading",this._retryLoading.bind(this)),this.updateCaption(a),this.slider.active===a&&this.idleUI&&this.idleUI.isIdle&&(this.isIdle=!1,this.idleUI.fire("active")),c&&!this.status.isVisible?this.animateIn(this.caption.bind(this,!0)):this.error(!0,b,c)},_.prototype.open=function(a){if(this.status.isClosed){if(this._fire("open",[a]),!this.items.includes(a))throw ga.name+': The "'+a+'" index is out of bound! Choose from: ['+this.items.join(", ")+"]";this.slider.setItems(this.items,this.o.gallery.infiniteCarousel),this.status.isClosed=!1,this.scrolling(!1),this.animateInBase(function(){var b=this;this.counter(!0),this.nav(!0),requestAnimationFrame(function(){this.content(a,0)}.bind(this)),this.carousel?this.carousel.addEventListeners():setTimeout(function(){requestAnimationFrame(b.initCarousel.bind(b))},400),this.id.templateListeners||setTimeout(function(){requestAnimationFrame(b.addTemplateListeners.bind(b))},380),this.accessibility(!0),this.fire("open",[this.slider.active])})}},_.prototype._closeTasks=function(){this.scrolling(!0),this.carousel.removeEventListeners();var a=this.o.gallery.media;this.slider.reset(function(b){this.error(!1,b),this.image(!0,b),b.querySelector(a).src=""}.bind(this)),this._clearUpErrors(),this.carousel.reset(),this.status.isClosed=!0,!la.state&&this.o.gallery.idleUI&&(this.idleInit=!0,this.isIdle=!1),this.fire("close",[this.slider.active])},_.prototype.close=function(){this.status.isClosed||this.status.retryLoading||(this.accessibility(!1),this.spinner(!1,this.slider.getActiveSlide()),this.preloader.pause(),this._fire("close"),this.animateOut(this._closeTasks.bind(this)))},_.prototype.goNext=function(){this.slider.hasNext()?this.carousel.goNext():this.o.gallery.animations&&this.carousel.bounceBack(-75)},_.prototype.goPrev=function(){this.slider.hasPrev()?this.carousel.goPrev():this.o.gallery.animations&&this.carousel.bounceBack(75)},_.prototype.scrolling=function(a){a?oa.enable():oa.disable(),this.o.gallery.scrollbar||(document.querySelector("html").style.overflow=a?"auto":"hidden")},_.prototype._reduceBtnClose=function(){var a=this.e.btnClose;if(a&&a.length){var b=this.o.gallery.btnClose,c=r(this.e.slider.querySelectorAll(b));this.e.slider.hasClass(n(b))&&c.push(this.e.slider),c&&c.length&&l(a,function(b,d){l(c,function(c){b===c&&a.splice(d,1)})})}},_.prototype.initSelectors=function(){var a=this.o.gallery,b=this.e.template,c=["overlay","wrap","close","prev","next","slider","counter","counterCurrent","counterTotal","caption"];l(c,function(c){this.e[c]=b.querySelector(a[c])},this),l(["btnClose","btnNext","btnPrev"],function(c){this.e[c]=r(b.querySelectorAll(a[c]))},this),this._reduceBtnClose(),this.e.btnOpen=r(m(a.btnOpen,a.data))},_.prototype.init=function(){f({url:this.o.gallery.templatePath,done:function(a){this.injectTempate(a.responseText,function(){this.initSelectors(),this.initElements(),ma(".svg-lazy",this.o.general.svgSprite,function(){var a=this,b=this.e.counter?this.e.counter.clientHeight:0,c=this.e.caption?this.e.caption.clientHeight:0,d=this.e.template.style;requestAnimationFrame(function(){d.display="none",d.visibility="visible",a.slider.build(a.e.slider,b,c),a.fire("init")})}.bind(this)),this.o.gallery.animations||this.deativateAnimations(),this._fire("openListeners",[!0])})}.bind(this)})},_.prototype.resize=function(a){if(this.e.template&&(this.carousel&&this.carousel.resize(),!this.status.isClosed)){var b=this.o.gallery.media,c=this.slider.slides,d=function(a,d){requestAnimationFrame(function(){c.forEach(function(c){c.querySelector(b).style.height=a}),d&&d()})};d("100%",function(){d("")})}},_.prototype._activateIdle=function(){this.isIdle||(this.idleInit&&(this.idleInit=!1),this.isIdle=!0,this.ui(!1))},_.prototype._deactivateIdle=function(){this.isIdle&&!this.idleInit&&(this.idleInit&&(this.idleInit=!1),this.isIdle=!1,this.ui(!0))},_.prototype.toggleUI=function(){this.isIdle?this.ui(!0):this.ui(!1),this.isIdle=!this.isIdle},_.prototype.reopen=function(){var a=this.slider.active;return null!==a?(this.open(a),a):null},_.prototype._clearUpErrors=function(){var a=(this.slider.rangeItems,this.preloader.done);Object.keys(this.errors).forEach(function(b){b=Number(b),this.captions[b]=void 0,b!==this.slider.active&&l(this.slider.getSlidesOf(b),function(a){this.error(!1,a),this.spinner(!0,a)},this),a.remove(b)}.bind(this)),this.errors={},this.status.retryLoading=!1},_.prototype._captionRetryLoading=function(a){var b=this.e.template.querySelector(".dc-gallery-caption-error");b&&(this.id.caption&&(this.handler.removeListener(this.id.caption),delete this.id.caption),a&&(this.id.caption=this.handler.addListener(b,"click",function(){this.id.caption&&(this.handler.removeListener(this.id.caption),delete this.id.caption),this._retryLoading()}.bind(this))))},_.prototype._retryLoading=function(){if(!this.status.retryLoading){this.status.retryLoading=!0,this._off("retryLoading");var a=this.slider.getActiveSlide();this.error(!1,a),this.spinner(!0,a),this.e.caption&&this.setCaption(["",""],"remove");var b=this;na.number(this.id.retryLoading)&&clearTimeout(this.id.retryLoading),this.id.retryLoading=setTimeout(function(){requestAnimationFrame(function(){var a=b.slider.active;b._clearUpErrors(),b.prioritizeImage(a),b.updateCaption(a)})},500)}},_.prototype._getImagePath=function(a){var b=this.o.gallery;return b.pathPrefix+this.e.btnOpen[a].getAttribute(b.data)},_.prototype._always=function(a,b,c){c?this._itemLoaded(a,b):this._itemFailed(a,b),this.fire("always",[a,b,c])},_.prototype._itemLoaded=function(a,b){if(this.success[a]=b.src,!this.status.isClosed){var c=this.slider.getSlidesOf(a);l(c,function(b){this._contentSuccess(a,b,this.slider.active===a)},this)}this.fire("success",[a,b.src])},_.prototype._itemFailed=function(a,b){if(this.errors[a]=b,!this.status.isClosed){var c=this.slider.getSlidesOf(a);l(c,function(b){this._contentFail(a,b,this.slider.active===a)},this)}this.fire("fail",[a,b])},aa.prototype=Object.create(Z.prototype),aa.prototype.constructor=aa,fa.Modal=aa,a.Modal=aa,aa.prototype.isFirst=function(a){return this.items[0]===a},aa.prototype.isLast=function(a){return this.items[this.items.length-1]===a},aa.prototype.animateInBase=function(a){var b=this.o.modal,c=this.e.template;b.animations?(c.style.display="block",c.classList.add("quickFadeIn"),na.number(this.id.animateIn)&&this.handler.removeListener(this.id.animateIn),this.id.animateIn=this.handler.addListener(c,"animationend",function(){a.call(this),this.handler.removeListener(this.id.animateIn),c.classList.remove("quickFadeIn"),this.id.animateIn=null}.bind(this))):(c.style.display="block",a&&a.call(this))},aa.prototype.nav=function(a,b){var c=this.o.modal;if(c.showNav){var d=(this.status.nav,this.e.nav);na.number(this.id.navIn)&&this.handler.removeListener(this.id.navIn);var e=this.e.template.classList;e.contains("quickFadeIn")&&d.classList.remove("quickFadeIn"),d.classList[a?"add":"remove"]("active"),this.id.navIn=this.handler.addListener(d,"transitionend",function(){b&&b.call(this),this.status.nav=a,this.handler.removeListener(this.id.navIn),this.id.navIn=null}.bind(this))}else b&&b.call(this)},aa.prototype.body=function(a,b){var c=(this.o.modal,this.e.body);requestAnimationFrame(function(){c.classList[a?"add":"remove"]("active")});var d=this.handler,e=d.addListener(c,"transitionend",function(){b&&b(),d.removeListener(e)})},aa.prototype.animateIn=function(a){this.status.isVisible||(this.status.isVisible=!0,a&&a.call(this))},aa.prototype.animateOut=function(a){var b=this.o.modal;b.animations?(this.body(!1),this.nav(!1,function(){var b=this.e.template;b.classList.add("quickFadeOut"),na.number(this.id.animateOut)&&this.handler.removeListener(this.id.animateOut),this.id.animateOut=this.handler.addListener(b,"animationend",function(){a.call(this),b.style.display="none",b.classList.remove("quickFadeOut"),this.handler.removeListener(this.id.animateOut),this.id.animateOut=null}.bind(this))}),this.status.isVisible=!1):(this.nav(!1),this.body(!1),this.e.template.style.display="none",this.status.slideUpDown=!0,a&&a())},aa.prototype.counter=function(){if(this.e.counter){var a=this.o.modal.showCounter;l(this.e.counter,function(b){b.style.display=a?"block":"none"})}},aa.prototype.spinner=function(a){if(this.e.spinner){var b=this.e.spinner.style;clearTimeout(this.id.spinner),a?this.id.spinner=setTimeout(function(){b.display="block"},50):b.display="none"}},aa.prototype.deativateAnimations=function(){var a=this.o.modal,b=[this.e.body];a.showNav&&b.push(this.e.nav);var c;l(b,function(a){c=a.style,c.transitionProperty="none",c.transitionDuration="0s",c.transitionTimingFunction="step-end"})},aa.prototype._getPageUrl=function(a){var b=this.o.modal;return b.pathPrefix+this.e.btnOpen[a].getAttribute(b.data)},aa.prototype.load=function(a){f({url:this._getPageUrl(a),done:function(b){this.success[a]=b.response,this.active!==a||this.status.isClosed||(this.animateIn(),this.loadContent(a,1))}.bind(this),fail:function(b){var c=b.response.trim();this.errors[a]=c.substring(c.indexOf("/")+1,c.length),this.active!==a||this.status.isClosed||(this.animateIn(),this.loadContent(a,-1))}.bind(this)})},aa.prototype.updateCounter=function(a){if(this.o.modal.showCounter){var a=this.items.indexOf(a),b=a+1,c=this.items.length;0===a?this.fire("first",[this.o.modal.infiniteCarousel]):b===c&&this.fire("last",[this.o.modal.infiniteCarousel]),l(this.e.counterCurrent,function(a){a.textContent=b}),l(this.e.counterTotal,function(a){a.textContent=c})}},aa.prototype.clear=function(){this.e.body.innerHTML=""},aa.prototype.loadContent=function(a,b){switch(b){case 0:this.status.isVisible&&this.body(!1),this.spinner(!0),this.load(a);break;case 1:this.error(!1),this.spinner(!1),this.resetScrollPosition(function(){this.e.body.innerHTML=this.success[a],this.body(!0),this.initActionButtons(),ma(".svg-lazy",this.o.general.svgSprite),this.fire("success",[a,this.success[a]])});break;case-1:this.spinner(!1),this.body(!0),this.error(!0,a),this.initActionButtons(),this.fire("fail",[a,this.errors[a]])}},aa.prototype.content=function(a,b){this.updateCounter(a),this.active=a,this.success[a]?(this.loadContent(a,1),b&&this.animateIn(b)):this.errors[a]?(this.loadContent(a,-1),b&&this.animateIn(b)):(this.loadContent(a,0),b&&b.call(this))},aa.prototype.retryLoading=function(){var a=this;this.errors[this.active]=void 0,this.body(!1,function(){this.error(!1),clearTimeout(this.id.retryLoading),this.id.retryLoading=setTimeout(function(){a.load(a.active)},800)}.bind(this)),this.spinner(!0)},aa.prototype.error=function(a,b){var c=n(this.o.modal.errorClass);if(a){this.status.error=!0,this.e.body.innerHTML=this.errorMessage(b),this.e.body.addClass(c),void 0!==this.id.retryLoading&&this.handler.removeListener(this.id.retryLoading);var d=this.retryLoading.bind(this),e=this.handler.addListener(this.e.body,"click",function(a){d()});this.id.retryLoading=e}else this.e.body.removeClass(c),void 0!==this.id.retryLoading&&(this.handler.removeListener(this.id.retryLoading),delete this.id.retryLoading),this.status.error&&(this.status.error=!1,this.e.body.innerHTML="")},aa.prototype.errorMessage=function(a){var b=document.createElement("div"),c=this.errors[a],d="Coudn't load ";d+=c&&c.length?'"'+c+'"':"content",d+=". Tap to retry.",b.classList.add(n(this.o.modal.errorMessage));var e=this.returnFire("errorStatus",[d,c],0);return b.innerHTML=e?e:d,b.outerHTML},aa.prototype.resetScrollPosition=function(a){this.e.template.querySelector(".dc-modal-container").scrollTop=0,a.call(this)},aa.prototype.open=function(a){if(this.status.isClosed){if(this._fire("open",[a]),!this.items.includes(a))throw ga.name+': The "'+a+'" index is out of bound! Choose from: ['+this.items.join(", ")+"]";this.status.isClosed=!1,this.updateCounter(a),this.animateInBase(function(){this.nav(!0),this.content(a),this.scrolling(!1),void 0!==!this.id.templateListeners&&this.templateListeners(!0),this.accessibility(!0),this.fire("open",[this.active])})}},aa.prototype.close=function(){this.status.isClosed||(this.accessibility(!1),this.spinner(!1),this.animateOut(function(){this.scrolling(!0),this.clear(),this.status.isClosed=!0,this.fire("close",[this.active])}.bind(this)))},aa.prototype.getNext=function(a){var b=0;return b=this.o.modal.infiniteCarousel?this.isLast(a)?-1:this.items.indexOf(a):this.isLast(a)?this.items.length-2:this.items.indexOf(a),this.items[b+1]},aa.prototype.getPrev=function(a){var b=0;return b=this.o.modal.infiniteCarousel?this.isFirst(a)?this.items.length:this.items.indexOf(a):this.isFirst(a)?1:this.items.indexOf(a),this.items[b-1]},aa.prototype.goNext=function(){var a=this.getNext(this.active);a!==this.active&&(this.content(a),this.fire("next",[a]))},aa.prototype.goPrev=function(){var a=this.getPrev(this.active);a!==this.active&&(this.content(a),this.fire("prev",[a]))},aa.prototype.goTo=function(a){if(!this.items.includes(a))throw ga.name+': "'+a+'" is out of bound! Choose from: ['+this.items.join(", ")+"]";this.status.isClosed?this.open(a):this.content(a)},aa.prototype.scrolling=function(a){document.querySelector("html").style.overflow=a?"auto":"hidden"},aa.prototype.initSelectors=function(){var a=this.o.modal,b=this.e.template;l(["spinner","body","nav"],function(c){this.e[c]=b.querySelector(a[c])},this),l(["btnClose","btnNext","btnPrev","counter","counterCurrent","counterTotal"],function(c){this.e[c]=r(b.querySelectorAll(a[c]))},this),this.e.btnOpen=r(m(a.btnOpen,a.data))},aa.prototype.initActionButtons=function(){var a=this.e.template,b=this.o.modal;l(["btnClose","btnNext","btnPrev"],function(c){this.e[c]=r(a.querySelectorAll(b[c]))},this),this.templateListeners(!0)},aa.prototype.init=function(){f({url:this.o.modal.templatePath,done:function(a){this.injectTempate(a.responseText,function(){this.initSelectors(),this.status.nav=!1,this.status.content=!1,ma(".svg-lazy",this.o.general.svgSprite),this._fire("openListeners",[!0]),this.o.modal.animations||this.deativateAnimations(),this.fire("init")})}.bind(this)})},aa.prototype.reopen=function(){if(null!==this.active)return this.open(this.active),this.active};var pa={init:function(a,b){void 0!==this[a]&&this[a].call(b)},tabs:function(){this.tabs._on("run",function(a){var b=this.layout;b&&(b.run(a.name),b.autoHeight())}.bind(this))},layout:function(){this.layout._on("counter",function(a){this.tabs.counter(a)}.bind(this)),this.layout._on("tabsData",function(){return this.tabs.data}.bind(this)),this.layout._on("idleStart",function(){this.gallery&&this.gallery.preloader.continue()}.bind(this)),this.layout._on("idleEnd",function(){this.gallery&&this.gallery.preloader.pause()}.bind(this)),this.layout._on("imagesLoaded",function(){this.loadMore&&this.loadMore.eventListeners(!0)}.bind(this))},loadMore:function(){this.loadMore._on("tabsData",function(){return this.tabs.data}.bind(this)),this.loadMore._on("appendItems",this.layout.appendItems.bind(this.layout)),this.loadMore._on("itemsLength",function(){return this.layout.e.layoutItems.length}.bind(this)),this.loadMore._on("loadMoreReady",function(a,b){var c=this.layout.e.layout.querySelectorAll(this.o.item.id);this.layout.e.layoutItems=c,this.loadMore.itemsLength=c.length;var d=c.length-a.length;if(this.layout.loadMore(a,this.tabs.data,d,b),this.gallery){var e=this.o.gallery;this.gallery.e.btnOpen=r(m(e.btnOpen,e.data)),this.gallery._fire("openListeners",[!0])}if(this.modal){var f=this.o.modal;this.modal.e.btnOpen=r(m(f.btnOpen,f.data)),this.modal._fire("openListeners",[!0])}if(this.tabs){var g=this.o.tabs;g.counter&&g.draggable&&!g.minimalist&&this.tabs.resize([!0,!1])}}.bind(this))},gallery:function(){this.gallery._on("open",function(){this.gallery.updateItems(this.layout.getItems()),this.layout.preloader.pause(),this.layout.hoverEffect(!1);var a=document.querySelector(".effect-is-active");a&&a.classList.remove("effect-is-active")}.bind(this)),this.gallery._on("close",function(){var a=this.layout.preloader;a.queue.length?a.continue():this.gallery.preloader.continue(),this.layout.hoverEffect(!0)}.bind(this)),this.gallery._on("idleStart",function(){this.layout.preloader.continue()}.bind(this)),this.gallery._on("idleEnd",function(){this.layout.preloader.pause()}.bind(this)),this.gallery._on("updateFooter",function(a){return this.gallery.getCaption(this.layout.e.layoutItems[a])}.bind(this)),this.gallery._on("openListeners",function(a){if(this.gallery.removeOpenListeners(),a){var b=v(this.layout.e.layoutItems.length);this.gallery.addOpenListeners(b)}}.bind(this))},modal:function(){this.modal._on("open",function(){this.modal.updateItems(this.layout.getItems())}.bind(this)),this.modal._on("openListeners",function(a){if(this.modal.removeOpenListeners(),a){var b=v(this.layout.e.layoutItems.length);this.modal.addOpenListeners(b)}}.bind(this))}};fa.prototype=Object.create(d.prototype),fa.prototype.constructor=fa,fa.prototype._build=function(c){this.o=x(P(),c),this.activeModules=ba(this.o),this.modules=ca(this.activeModules.slice(0)),this.o=da(this.o),this.handler=new e,l(this.modules,function(b){this[b]=new(a[b.capitalize()])(this.o),pa.init(b,this)},this),this.cache=new b,d.call(this,"events",["resize","destroy"])},fa.prototype.powerHungry=function(a,b){for(var c,d={},e=this.modules,f="",a=a.bind(this),g=this,h=0,i=e.length;h<i;h++)f=e[h],c=this[f],c.powerHungry&&(d[f]=c.powerHungry(b));requestAnimationFrame(function(){for(var b=0,h=e.length;b<h;b++)f=e[b],c=g[f],c.cache&&c.cache.extend(d[f]);requestAnimationFrame(a)})},fa.prototype._onresize=function(){var a=window.innerWidth,b=window.innerHeight,c=this.cache.get("prevWinWidth")||0,d=this.cache.get("prevWinHeight")||0;this.cache.set("prevWinWidth",a),this.cache.set("prevWinHeight",b);var e=[a!==c,b!==d];la.test(function(a){w.call(this,this.modules,"resizeSetup",e),this.powerHungry(function(){w.call(this,this.modules,"resize",e)},e),this.fire("resize")}.bind(this))},fa.prototype.init=function(a){this.powerHungry(function(){w.call(this,this.modules,"init"),ma(".svg-lazy",this.o.general.svgSprite,a?a.bind(this):void 0);var b=window.innerHeight,c=window.innerWidth;if(requestAnimationFrame(function(){this.cache.set("prevWinWidth",c),this.cache.set("prevWinHeight",b)}.bind(this)),this.o.general.updateOnResize){var d=ea.call(this.handler,{state:!0,interval:la.state?200:350,handler:this._onresize.bind(this)});this.cache.set("resize",d)}})},fa.prototype.restore=function(){w.call(this,this.modules,"restore")},fa.prototype.destroy=function(){if(this.o){this.fire("destroy"),this.restore(),l(this.modules,function(a){this[a].handler.destroy(),delete this[a]},this),this.handler.destroy();var a=Object.keys(this);a.remove("meta"),l(a,function(a){delete this[a]},this)}},fa.prototype.reinit=function(a,b){requestAnimationFrame(function(){this.o&&this.destroy(),this._build(a),this.init(),b&&b.call(this)}.bind(this))},fa.prototype.defaultSetting=function(){return P()},fa.defaultSetting=P(),"function"==typeof define&&define.amd?define(function(){return fa}):"undefined"!=typeof module&&module.exports?module.exports=fa:window[ga.name]=fa}}({});
//# sourceMappingURL=alfred.min.js.map